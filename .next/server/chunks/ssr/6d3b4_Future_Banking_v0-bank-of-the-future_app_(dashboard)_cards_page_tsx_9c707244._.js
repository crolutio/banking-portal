module.exports=[26770,a=>{"use strict";var b=a.i(74419),c=a.i(57683),d=a.i(20949),e=a.i(62150),f=a.i(4627),g=a.i(73795),h=a.i(60696),i=a.i(69507),j=a.i(42562),k=a.i(88201),l=a.i(38445),m=a.i(46858),n=a.i(80351),o=a.i(30167),p=a.i(40686),q=a.i(40226);let r=(0,q.default)("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]),s=(0,q.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),t=(0,q.default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var u=a.i(9880),v=a.i(54773),w=a.i(8995),x=a.i(11787),y=a.i(42833),z=a.i(38448),A=a.i(21478),B=a.i(52271);function C({card:a,showDetails:d=!1}){let[f,g]=(0,c.useState)(!1),h=()=>"credit"===a.type?"from-slate-800 via-slate-700 to-slate-900":"virtual"===a.type?"from-indigo-600 via-indigo-500 to-indigo-700":"from-emerald-600 via-emerald-500 to-emerald-700";return(0,b.jsx)("div",{className:"relative w-full aspect-[1.586/1] perspective-1000 cursor-pointer",onClick:()=>g(!f),children:(0,b.jsxs)("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-preserve-3d ${f?"rotate-y-180":""}`,children:[(0,b.jsxs)("div",{className:`absolute inset-0 backface-hidden rounded-2xl p-6 flex flex-col justify-between bg-gradient-to-br ${h()}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-10 h-7 bg-amber-400 rounded-md"}),"virtual"===a.type&&(0,b.jsx)(i.Badge,{variant:"outline",className:"bg-white/10 border-white/20 text-white text-[10px]",children:"VIRTUAL"})]}),(0,b.jsx)("span",{className:"text-white/80 text-sm font-medium",children:a.brand})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"Card Number"}),(0,b.jsx)("p",{className:"text-white text-lg tracking-widest font-mono",children:d?`•••• •••• •••• ${a.lastFour}`:(0,e.formatCardNumber)(a.lastFour)})]}),(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white/60 text-[10px] mb-0.5",children:"CARDHOLDER"}),(0,b.jsx)("p",{className:"text-white text-sm",children:a.cardholderName})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-white/60 text-[10px] mb-0.5",children:"EXPIRES"}),(0,b.jsx)("p",{className:"text-white text-sm",children:a.expiryDate})]})]})]}),(0,b.jsxs)("div",{className:`absolute inset-0 backface-hidden rotate-y-180 rounded-2xl bg-gradient-to-br ${h()}`,children:[(0,b.jsx)("div",{className:"w-full h-10 bg-black/40 mt-6"}),(0,b.jsxs)("div",{className:"p-6 mt-2",children:[(0,b.jsx)("div",{className:"bg-white/90 rounded p-2 text-right",children:(0,b.jsx)("span",{className:"text-slate-800 font-mono text-sm tracking-wider",children:"•••"})}),(0,b.jsx)("p",{className:"text-white/60 text-xs mt-4 text-center",children:"Tap to flip back"})]})]})]})})}function D({card:a,onFreeze:d,onUnfreeze:f}){let[g,i]=(0,c.useState)(!1),[j,n]=(0,c.useState)(!1),[p,q]=(0,c.useState)(a.limit||5e4);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(h.Button,{variant:"frozen"===a.status?"default":"outline",className:"flex items-center gap-2",onClick:"frozen"===a.status?f:d,children:"frozen"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{className:"h-4 w-4"}),"Unfreeze"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r,{className:"h-4 w-4"}),"Freeze"]})}),(0,b.jsxs)(h.Button,{variant:"outline",className:"flex items-center gap-2 bg-transparent",onClick:()=>i(!0),children:[(0,b.jsx)(t,{className:"h-4 w-4"}),"Limits"]}),(0,b.jsxs)(h.Button,{variant:"outline",className:"flex items-center gap-2 col-span-2 bg-transparent",onClick:()=>n(!0),children:[(0,b.jsx)(y.RefreshCw,{className:"h-4 w-4"}),"Replace Card"]})]}),(0,b.jsx)(k.Dialog,{open:g,onOpenChange:i,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Card Limits"}),(0,b.jsx)(k.DialogDescription,{children:"Adjust your daily transaction limits"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{children:"Daily Transaction Limit"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:(0,e.formatCurrency)(p)})]}),(0,b.jsx)(l.Slider,{value:[p],onValueChange:([a])=>q(a),min:1e3,max:1e5,step:1e3}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Limit can be set between ",(0,e.formatCurrency)(1e3)," and ",(0,e.formatCurrency)(1e5)]})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted/30 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(w.Bot,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{className:"font-medium",children:"Policy Reference"})]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Per Card Terms v3.0, daily limits can be adjusted up to your account maximum. Changes take effect immediately."}),(0,b.jsx)(o.CitationBadge,{citation:{id:"cite_1",source:"Card Terms v3.0",type:"product_terms"},className:"mt-2"})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:()=>i(!1),children:"Save Changes"})]})]})}),(0,b.jsx)(k.Dialog,{open:j,onOpenChange:n,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Replace Card"}),(0,b.jsx)(k.DialogDescription,{children:"Request a replacement for your card"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"reason",children:"Reason for Replacement"}),(0,b.jsxs)("select",{id:"reason",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,b.jsx)("option",{value:"damaged",children:"Card Damaged"}),(0,b.jsx)("option",{value:"lost",children:"Card Lost"}),(0,b.jsx)("option",{value:"stolen",children:"Card Stolen"}),(0,b.jsx)("option",{value:"expired",children:"Card Expiring Soon"})]})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(u.AlertTriangle,{className:"h-4 w-4 text-yellow-500 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium text-yellow-500",children:"Important"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Your current card will be deactivated immediately if you select “Lost” or “Stolen”."})]})]})}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Replacement fee:"," ",(0,b.jsx)("span",{className:"text-foreground font-medium",children:"credit"===a.type?"Free":"AED 50"})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:()=>n(!1),children:"Request Replacement"})]})]})})]})}function E({card:a}){let c=!0,d="Entertainment",e=45;return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(g.Card,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/20",children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(w.Bot,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(g.CardTitle,{className:"text-sm",children:"Card Benefits"})]})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("ul",{className:"space-y-2",children:["Lounge access: 4 complimentary visits remaining","Travel insurance: Active for international trips","Extended warranty: Covers electronics purchases"].map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-primary",children:"•"}),a]},c))}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-3",children:(0,b.jsx)(o.CitationBadge,{citation:{id:"cite_1",source:"Card T&Cs v3.0",type:"product_terms"}})}),(0,b.jsx)(o.ConfidenceIndicator,{confidence:"high",className:"mt-2"})]})]}),c&&(0,b.jsxs)(g.Card,{className:"border-yellow-500/30 bg-yellow-500/5",children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.TrendingUp,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)(g.CardTitle,{className:"text-sm text-yellow-500",children:"Unusual Spend Detected"})]})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Your ",d," spending is ",e,"% higher than your average this month."]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:(0,b.jsx)(o.CitationBadge,{citation:{id:"cite_2",source:"Transaction History",type:"transaction_history"}})})]})]})]})}function F(){let{currentUser:a}=(0,d.useRole)(),[k,l]=(0,c.useState)(null),[m,o]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0);(0,c.useEffect)(()=>{!async function(){if(!a?.id)return;r(!0);let b=(0,B.createClient)(),{data:c,error:d}=await b.from("cards").select("*").eq("user_id",a.id);d?console.error("Error fetching cards:",d):o((c||[]).map(a=>({id:a.id,userId:a.user_id,accountId:a.account_id,type:a.type,brand:a.brand,lastFour:a.last_four,expiryDate:a.expiry_date,status:a.status,limit:a.credit_limit?Number(a.credit_limit):void 0,spent:a.spent_amount?Number(a.spent_amount):void 0,cardholderName:a.cardholder_name}))),r(!1)}()},[a]);let s=async a=>{console.log("Freezing card:",a),o(b=>b.map(b=>b.id===a?{...b,status:"frozen"}:b))},t=async a=>{console.log("Unfreezing card:",a),o(b=>b.map(b=>b.id===a?{...b,status:"active"}:b))};return q?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,b.jsx)(z.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(f.PageHeader,{title:"Cards",description:"Manage your debit and credit cards"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(a=>(0,b.jsxs)(n.Sheet,{children:[(0,b.jsx)(n.SheetTrigger,{asChild:!0,children:(0,b.jsx)(g.Card,{className:"cursor-pointer hover:bg-muted/30 transition-colors overflow-hidden",children:(0,b.jsxs)(g.CardContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(C,{card:a})}),(0,b.jsxs)("div",{className:"p-4 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium capitalize",children:[a.type," Card"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.brand})]}),(0,b.jsx)(i.Badge,{variant:"secondary",className:"frozen"===a.status?"bg-blue-500/20 text-blue-500":"bg-emerald-500/20 text-emerald-500",children:"frozen"===a.status?"Frozen":"Active"})]}),a.limit&&void 0!==a.spent&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Spent this month"}),(0,b.jsxs)("span",{children:[(0,e.formatCurrency)(a.spent)," / ",(0,e.formatCurrency)(a.limit)]})]}),(0,b.jsx)(j.Progress,{value:a.spent/a.limit*100,className:"h-2"})]})]})]})})}),(0,b.jsxs)(n.SheetContent,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,b.jsxs)(n.SheetHeader,{children:[(0,b.jsxs)(n.SheetTitle,{className:"capitalize",children:[a.type," Card"]}),(0,b.jsx)(n.SheetDescription,{children:"Manage your card and view insights"})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsx)(C,{card:a,showDetails:!0}),(0,b.jsx)("div",{className:"p-4 rounded-lg bg-muted/30",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Card Number"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("p",{className:"text-sm font-medium",children:["•••• ",a.lastFour]}),(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,b.jsx)(x.Copy,{className:"h-3 w-3"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Expiry"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.expiryDate})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status"}),(0,b.jsx)(i.Badge,{variant:"secondary",className:"frozen"===a.status?"bg-blue-500/20 text-blue-500":"bg-emerald-500/20 text-emerald-500",children:a.status})]}),a.limit&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Credit Limit"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:(0,e.formatCurrency)(a.limit)})]})]})}),(0,b.jsx)(D,{card:a,onFreeze:()=>s(a.id),onUnfreeze:()=>t(a.id)}),(0,b.jsx)(E,{card:a})]})]})]},a.id))})}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsx)(A.AskAIBankerWidget,{questions:["What are my card benefits?","How do I increase my credit limit?","Why was my card declined?","How do I report a lost card?"],description:"Get help with your cards"})})]}),0===m.length&&(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(p.CreditCard,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Cards Yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"You don't have any cards linked to your account."}),(0,b.jsx)(h.Button,{children:"Apply for a Card"})]})]})}a.s(["default",()=>F],26770)}];

//# sourceMappingURL=6d3b4_Future_Banking_v0-bank-of-the-future_app_%28dashboard%29_cards_page_tsx_9c707244._.js.map