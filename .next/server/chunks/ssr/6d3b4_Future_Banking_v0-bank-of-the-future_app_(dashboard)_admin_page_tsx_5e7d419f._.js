module.exports=[83962,a=>{"use strict";var b=a.i(74419),c=a.i(57683),d=a.i(73795),e=a.i(60696),f=a.i(69507),g=a.i(46858),h=a.i(92645),i=a.i(90978),j=a.i(96421),k=a.i(3914),l=a.i(95166),m=a.i(54331);function n({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,m.cn)("w-full caption-bottom text-sm",a),...c})})}function o({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,m.cn)("[&_tr]:border-b",a),...c})}function p({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,m.cn)("[&_tr:last-child]:border-0",a),...c})}function q({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,m.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function r({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,m.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function s({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,m.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}var t=a.i(20949),u=a.i(64700),v=a.i(44080),w=a.i(8995);let x=(0,a.i(40226).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var y=a.i(19426),z=a.i(40522),A=a.i(29726),B=a.i(10496),C=a.i(58648),D=a.i(72865),E=a.i(38448),F=a.i(52271);let G=[{resource:"Account Balances",customer:!0,rm:!0,risk:!0,admin:!0},{resource:"Transaction History",customer:!0,rm:!0,risk:!0,admin:!0},{resource:"Customer PII",customer:!0,rm:!1,risk:!0,admin:!0},{resource:"Full IBAN/Account Numbers",customer:!0,rm:!1,risk:!0,admin:!0},{resource:"CRM Notes",customer:!1,rm:!0,risk:!0,admin:!0},{resource:"Risk Alerts",customer:!1,rm:!1,risk:!0,admin:!0},{resource:"Audit Logs",customer:!1,rm:!1,risk:!0,admin:!0},{resource:"Policy Configuration",customer:!1,rm:!1,risk:!1,admin:!0},{resource:"AI Guardrails",customer:!1,rm:!1,risk:!1,admin:!0}],H=[{id:"core_banking",name:"Core Banking System",status:"connected",lastSync:"2 minutes ago"},{id:"crm",name:"CRM Platform",status:"connected",lastSync:"5 minutes ago"},{id:"kyc_vendor",name:"KYC Verification Service",status:"connected",lastSync:"1 hour ago"},{id:"fraud_engine",name:"Fraud Detection Engine",status:"connected",lastSync:"Real-time"},{id:"swift",name:"SWIFT Network",status:"connected",lastSync:"Live"},{id:"card_processor",name:"Card Processor",status:"maintenance",lastSync:"Scheduled maintenance"}],I={requireCitations:!0,restrictedTopics:["Investment advice","Tax advice","Legal recommendations","Competitor comparisons"],escalationTriggers:["Complaint","Regulatory inquiry","Legal threat","Fraud claim"],piiMaskingDefault:!0,confidenceThreshold:.7};function J(){let{currentRole:a}=(0,t.useRole)(),[m,J]=(0,c.useState)([]),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(I),[O,P]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){if("admin"!==a)return;P(!0);let b=(0,F.createClient)(),{data:c,error:d}=await b.from("policies").select("*").eq("is_active",!0);d&&console.error("Error fetching policies:",d),c&&J(c.map(a=>({id:a.id,title:a.title,version:a.version,category:a.category,content:a.content,effectiveDate:a.effective_date}))),P(!1)}()},[a]),"admin"!==a)?(0,b.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,b.jsx)(d.Card,{className:"max-w-md",children:(0,b.jsxs)(d.CardContent,{className:"pt-6 text-center",children:[(0,b.jsx)(u.Shield,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"The Admin Console is only available to Admin users."})]})})}):O?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,b.jsx)(E.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Admin Console"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"System configuration, policies, and permissions management"})]})}),(0,b.jsxs)(h.Tabs,{defaultValue:"products",className:"space-y-6",children:[(0,b.jsxs)(h.TabsList,{className:"grid grid-cols-5 w-full max-w-2xl",children:[(0,b.jsx)(h.TabsTrigger,{value:"products",children:"Products & Fees"}),(0,b.jsx)(h.TabsTrigger,{value:"policies",children:"Policy Studio"}),(0,b.jsx)(h.TabsTrigger,{value:"permissions",children:"Permissions"}),(0,b.jsx)(h.TabsTrigger,{value:"guardrails",children:"AI Guardrails"}),(0,b.jsx)(h.TabsTrigger,{value:"integrations",children:"Integrations"})]}),(0,b.jsx)(h.TabsContent,{value:"products",className:"space-y-6",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Product Configuration"}),(0,b.jsx)(d.CardDescription,{children:"Manage banking products and fee structures"})]}),(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)(n,{children:[(0,b.jsx)(o,{children:(0,b.jsxs)(q,{children:[(0,b.jsx)(r,{children:"Product"}),(0,b.jsx)(r,{children:"Type"}),(0,b.jsx)(r,{children:"Status"}),(0,b.jsx)(r,{children:"Monthly Fee"}),(0,b.jsx)(r,{children:"Actions"})]})}),(0,b.jsxs)(p,{children:[(0,b.jsxs)(q,{children:[(0,b.jsx)(s,{className:"font-medium",children:"Current Account"}),(0,b.jsx)(s,{children:"Account"}),(0,b.jsx)(s,{children:(0,b.jsx)(f.Badge,{children:"Active"})}),(0,b.jsx)(s,{children:"AED 25"}),(0,b.jsx)(s,{children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(z.Edit,{className:"h-4 w-4"})})})]}),(0,b.jsxs)(q,{children:[(0,b.jsx)(s,{className:"font-medium",children:"Premium Savings"}),(0,b.jsx)(s,{children:"Account"}),(0,b.jsx)(s,{children:(0,b.jsx)(f.Badge,{children:"Active"})}),(0,b.jsx)(s,{children:"Free"}),(0,b.jsx)(s,{children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(z.Edit,{className:"h-4 w-4"})})})]}),(0,b.jsxs)(q,{children:[(0,b.jsx)(s,{className:"font-medium",children:"Visa Infinite"}),(0,b.jsx)(s,{children:"Credit Card"}),(0,b.jsx)(s,{children:(0,b.jsx)(f.Badge,{children:"Active"})}),(0,b.jsx)(s,{children:"AED 500/year"}),(0,b.jsx)(s,{children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(z.Edit,{className:"h-4 w-4"})})})]}),(0,b.jsxs)(q,{children:[(0,b.jsx)(s,{className:"font-medium",children:"Personal Loan"}),(0,b.jsx)(s,{children:"Lending"}),(0,b.jsx)(s,{children:(0,b.jsx)(f.Badge,{children:"Active"})}),(0,b.jsx)(s,{children:"5.99% APR"}),(0,b.jsx)(s,{children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(z.Edit,{className:"h-4 w-4"})})})]})]})]})})]})}),(0,b.jsx)(h.TabsContent,{value:"policies",className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.Card,{className:"lg:col-span-1",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{children:"Policies"}),(0,b.jsx)(e.Button,{size:"sm",children:(0,b.jsx)(y.Plus,{className:"h-4 w-4"})})]})}),(0,b.jsx)(d.CardContent,{className:"p-0",children:(0,b.jsxs)("div",{className:"px-4 pb-4 space-y-2 max-h-[500px] overflow-y-auto",children:[m.map(a=>(0,b.jsx)("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${K?.id===a.id?"bg-primary/10 border-primary":"hover:bg-muted/50"}`,onClick:()=>L(a),children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["v",a.version]})]}),(0,b.jsx)(f.Badge,{variant:"outline",className:"capitalize",children:a.category})]})},a.id)),0===m.length&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No policies found."})]})})]}),(0,b.jsx)(d.Card,{className:"lg:col-span-2",children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:K.title}),(0,b.jsxs)(d.CardDescription,{children:["Version ",K.version," • Effective ",K.effectiveDate]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Test Sandbox"}),(0,b.jsxs)(e.Button,{size:"sm",children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Policy Content (Markdown)"}),(0,b.jsx)(j.Textarea,{className:"mt-1 font-mono text-sm h-64",defaultValue:K.content})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Category: ",K.category]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:["Last modified: ",K.effectiveDate]})]})]})})]}):(0,b.jsxs)(d.CardContent,{className:"flex flex-col items-center justify-center h-96 text-center",children:[(0,b.jsx)(v.FileText,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Select a Policy"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose a policy to edit or create a new one"})]})})]})}),(0,b.jsxs)(h.TabsContent,{value:"permissions",className:"space-y-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Lock,{className:"h-5 w-5"}),"Role-Based Access Control"]}),(0,b.jsx)(d.CardDescription,{children:"Configure data access permissions for each role"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)(n,{children:[(0,b.jsx)(o,{children:(0,b.jsxs)(q,{children:[(0,b.jsx)(r,{children:"Resource"}),(0,b.jsx)(r,{className:"text-center",children:"Customer"}),(0,b.jsx)(r,{className:"text-center",children:"RM"}),(0,b.jsx)(r,{className:"text-center",children:"Risk"}),(0,b.jsx)(r,{className:"text-center",children:"Admin"})]})}),(0,b.jsx)(p,{children:G.map((a,c)=>(0,b.jsxs)(q,{children:[(0,b.jsx)(s,{className:"font-medium",children:a.resource}),(0,b.jsx)(s,{className:"text-center",children:(0,b.jsx)(k.Checkbox,{checked:a.customer})}),(0,b.jsx)(s,{className:"text-center",children:(0,b.jsx)(k.Checkbox,{checked:a.rm})}),(0,b.jsx)(s,{className:"text-center",children:(0,b.jsx)(k.Checkbox,{checked:a.risk})}),(0,b.jsx)(s,{className:"text-center",children:(0,b.jsx)(k.Checkbox,{checked:a.admin})})]},c))})]}),(0,b.jsx)("div",{className:"flex justify-end mt-4",children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Save Permissions"]})})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(C.EyeOff,{className:"h-5 w-5"}),"PII Masking Rules"]}),(0,b.jsx)(d.CardDescription,{children:"Configure automatic data masking for sensitive information"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Default PII Masking"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mask sensitive data in AI responses by default"})]}),(0,b.jsx)(i.Switch,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Full Account Number Masking"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show only last 4 digits of account numbers"})]}),(0,b.jsx)(i.Switch,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"IBAN Partial Display"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mask middle portion of IBAN numbers"})]}),(0,b.jsx)(i.Switch,{defaultChecked:!0})]})]})})]})]}),(0,b.jsx)(h.TabsContent,{value:"guardrails",className:"space-y-6",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(w.Bot,{className:"h-5 w-5"}),"AI Safety & Compliance"]}),(0,b.jsx)(d.CardDescription,{children:"Configure AI behavior, restrictions, and escalation rules"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Require Citations"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"All AI responses must include source citations"})]}),(0,b.jsx)(i.Switch,{checked:M.requireCitations,onCheckedChange:a=>N(b=>({...b,requireCitations:a}))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Default PII Masking"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mask sensitive data in AI responses"})]}),(0,b.jsx)(i.Switch,{checked:M.piiMaskingDefault,onCheckedChange:a=>N(b=>({...b,piiMaskingDefault:a}))})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg border",children:[(0,b.jsx)(g.Label,{children:"Confidence Threshold"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Minimum confidence level for AI responses (below this triggers escalation)"}),(0,b.jsxs)(l.Select,{value:M.confidenceThreshold.toString(),onValueChange:a=>N(b=>({...b,confidenceThreshold:Number.parseFloat(a)})),children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"0.5",children:"50% - Low"}),(0,b.jsx)(l.SelectItem,{value:"0.7",children:"70% - Medium"}),(0,b.jsx)(l.SelectItem,{value:"0.85",children:"85% - High"}),(0,b.jsx)(l.SelectItem,{value:"0.95",children:"95% - Very High"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-lg border",children:[(0,b.jsx)(g.Label,{children:"Restricted Topics"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Topics the AI should refuse to provide advice on"}),(0,b.jsxs)("div",{className:"space-y-2 mt-2",children:[M.restrictedTopics.map((a,c)=>(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(f.Badge,{variant:"secondary",className:"flex-1 justify-between py-1.5",children:[a,(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-transparent",children:(0,b.jsx)(A.Trash2,{className:"h-3 w-3"})})]})},c)),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",className:"w-full bg-transparent",children:[(0,b.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Add Topic"]})]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg border",children:[(0,b.jsx)(g.Label,{children:"Escalation Triggers"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Keywords that automatically escalate to human support"}),(0,b.jsxs)("div",{className:"space-y-2 mt-2",children:[M.escalationTriggers.map((a,c)=>(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(f.Badge,{variant:"outline",className:"flex-1 justify-between py-1.5 border-orange-200 text-orange-700",children:[a,(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-transparent",children:(0,b.jsx)(A.Trash2,{className:"h-3 w-3"})})]})},c)),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",className:"w-full bg-transparent",children:[(0,b.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Add Trigger"]})]})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Save Guardrails"]})})]})]})}),(0,b.jsx)(h.TabsContent,{value:"integrations",className:"space-y-6",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(D.Globe,{className:"h-5 w-5"}),"System Integrations"]}),(0,b.jsx)(d.CardDescription,{children:"Manage connections to external systems and services"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map(a=>(0,b.jsxs)("div",{className:"p-4 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last sync: ",a.lastSync]})]}),(0,b.jsx)(f.Badge,{variant:"connected"===a.status?"default":"secondary",className:"connected"===a.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"",children:"connected"===a.status?"Connected":"Maintenance"})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:"Configure"}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Test"})]})]},a.id))})})]})})]})]})}a.s(["default",()=>J],83962)}];

//# sourceMappingURL=6d3b4_Future_Banking_v0-bank-of-the-future_app_%28dashboard%29_admin_page_tsx_5e7d419f._.js.map