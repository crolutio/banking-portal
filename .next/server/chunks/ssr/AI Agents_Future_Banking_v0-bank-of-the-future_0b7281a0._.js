module.exports=[9156,a=>{"use strict";let b=(0,a.i(40226).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],9156)},86310,(a,b,c)=>{"use strict";let d="undefined"!=typeof Buffer,e=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,f=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function g(a,b,c){null==c&&null!==b&&"object"==typeof b&&(c=b,b=void 0),d&&Buffer.isBuffer(a)&&(a=a.toString()),a&&65279===a.charCodeAt(0)&&(a=a.slice(1));let g=JSON.parse(a,b);if(null===g||"object"!=typeof g)return g;let i=c&&c.protoAction||"error",j=c&&c.constructorAction||"error";if("ignore"===i&&"ignore"===j)return g;if("ignore"!==i&&"ignore"!==j){if(!1===e.test(a)&&!1===f.test(a))return g}else if("ignore"!==i&&"ignore"===j){if(!1===e.test(a))return g}else if(!1===f.test(a))return g;return h(g,{protoAction:i,constructorAction:j,safe:c&&c.safe})}function h(a,{protoAction:b="error",constructorAction:c="error",safe:d}={}){let e=[a];for(;e.length;){let a=e;for(let f of(e=[],a)){if("ignore"!==b&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(!0===d)return null;if("error"===b)throw SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if("ignore"!==c&&Object.prototype.hasOwnProperty.call(f,"constructor")&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(!0===d)return null;if("error"===c)throw SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(let a in f){let b=f[a];b&&"object"==typeof b&&e.push(b)}}}return a}function i(a,b,c){let d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,c)}finally{Error.stackTraceLimit=d}}b.exports=i,b.exports.default=i,b.exports.parse=i,b.exports.safeParse=function(a,b){let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,{safe:!0})}catch(a){return null}finally{Error.stackTraceLimit=c}},b.exports.scan=h},80343,(a,b,c)=>{b.exports=function(a,b){let c;if("function"!=typeof a)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof a}\`.`);let d=0;return function(...e){clearTimeout(c);let f=Date.now(),g=b-(f-d);g<=0?(d=f,a.apply(this,e)):c=setTimeout(()=>{d=Date.now(),a.apply(this,e)},g)}}},13457,19484,a=>{"use strict";let b,c,d;var e,f,g,h,i,j,k,l,m,n="vercel.ai.error",o=Symbol.for(n),p=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[h]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,n)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}toJSON(){return{name:this.name,message:this.message}}};h=o;var q=p,r=(Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError"),"AI_InvalidArgumentError"),s=`vercel.ai.error.${r}`,t=Symbol.for(s),u=class extends q{constructor({message:a,cause:b,argument:c}){super({name:r,message:a,cause:b}),this[i]=!0,this.argument=c}static isInstance(a){return q.hasMarker(a,s)}};i=t,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),Symbol.for("vercel.ai.error.AI_JSONParseError"),Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),Symbol.for("vercel.ai.error.AI_TypeValidationError"),Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");var v=a.i(86310);TransformStream;var w=(({prefix:a,size:b=7,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=((a,b=21)=>(c=b)=>{let d="",e=0|c;for(;e--;)d+=a[Math.random()*a.length|0];return d})(c,b);if(null==a)return e;if(c.includes(d))throw new u({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return b=>`${a}${d}${e(b)}`})();Symbol.for("vercel.ai.validator");var{btoa:x,atob:y}=globalThis;let z=Symbol("Let zodToJsonSchema decide on which parser to use");function A(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}function B(a,b,c,d,e){a[b]=c,A(a,b,d,e)}let C=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")};(e=j||(j={})).assertEqual=a=>{},e.assertIs=function(a){},e.assertNever=function(a){throw Error()},e.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},e.getValidEnumValues=a=>{let b=e.objectKeys(a).filter(b=>"number"!=typeof a[a[b]]),c={};for(let d of b)c[d]=a[d];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(b){return a[b]}),e.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},e.find=(a,b)=>{for(let c of a)if(b(c))return c},e.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,e.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},e.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b,(k||(k={})).mergeShapes=(a,b)=>({...a,...b});let D=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),E=a=>{switch(typeof a){case"undefined":return D.undefined;case"string":return D.string;case"number":return Number.isNaN(a)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":if(Array.isArray(a))return D.array;if(null===a)return D.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return D.promise;if("undefined"!=typeof Map&&a instanceof Map)return D.map;if("undefined"!=typeof Set&&a instanceof Set)return D.set;if("undefined"!=typeof Date&&a instanceof Date)return D.date;return D.object;default:return D.unknown}},F=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class G extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof G))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}G.create=a=>new G(a);let H=(a,b)=>{let c;switch(a.code){case F.invalid_type:c=a.received===D.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case F.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,j.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:c=`Unrecognized key(s) in object: ${j.joinValues(a.keys,", ")}`;break;case F.invalid_union:c="Invalid input";break;case F.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${j.joinValues(a.options)}`;break;case F.invalid_enum_value:c=`Invalid enum value. Expected ${j.joinValues(a.options)}, received '${a.received}'`;break;case F.invalid_arguments:c="Invalid function arguments";break;case F.invalid_return_type:c="Invalid function return type";break;case F.invalid_date:c="Invalid date";break;case F.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:j.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case F.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case F.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case F.custom:c="Invalid input";break;case F.invalid_intersection_types:c="Intersection results could not be merged";break;case F.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case F.not_finite:c="Number must be finite";break;default:c=b.defaultError,j.assertNever(a)}return{message:c}};(f=l||(l={})).errToObj=a=>"string"==typeof a?{message:a}:a||{},f.toString=a=>"string"==typeof a?a:a?.message;let I=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function J(a,b){let c=I({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,H,void 0].filter(a=>!!a)});a.common.issues.push(c)}class K{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return L;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return K.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return L;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let L=Object.freeze({status:"aborted"}),M=a=>({status:"dirty",value:a}),N=a=>({status:"valid",value:a}),O=a=>"undefined"!=typeof Promise&&a instanceof Promise;class P{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let Q=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new G(a.common.issues);return this._error=b,this._error}}};function R(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class S{get description(){return this._def.description}_getType(a){return E(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:E(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new K,ctx:{common:a.parent.common,data:a.data,parsedType:E(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(O(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:E(a)},d=this._parseSync({data:a,path:c.path,parent:c});return Q(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:E(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:E(a)},d=this._parse({data:a,path:c.path,parent:c});return Q(c,await (O(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:F.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new aL({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return aM.create(this,this._def)}nullable(){return aN.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return au.create(this)}promise(){return aK.create(this,this._def)}or(a){return aw.create([this,a],this._def)}and(a){return az.create(this,a,this._def)}transform(a){return new aL({...R(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new aO({...R(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:m.ZodDefault})}brand(){return new aR({typeName:m.ZodBranded,type:this,...R(this._def)})}catch(a){return new aP({...R(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:m.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aS.create(this,a)}readonly(){return aT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let T=/^c[^\s-]{8,}$/i,U=/^[0-9a-z]+$/,V=/^[0-9A-HJKMNP-TV-Z]{26}$/i,W=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,X=/^[a-z0-9_-]{21}$/i,Y=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ab=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ac=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ad=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,af="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ag=RegExp(`^${af}$`);function ah(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class ai extends S{_parse(a){var c,d,e,f;let g;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==D.string){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.string,received:b.parsedType}),L}let h=new K;for(let i of this._def.checks)if("min"===i.kind)a.data.length<i.value&&(J(g=this._getOrReturnCtx(a,g),{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("max"===i.kind)a.data.length>i.value&&(J(g=this._getOrReturnCtx(a,g),{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("length"===i.kind){let b=a.data.length>i.value,c=a.data.length<i.value;(b||c)&&(g=this._getOrReturnCtx(a,g),b?J(g,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&J(g,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),h.dirty())}else if("email"===i.kind)$.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"email",code:F.invalid_string,message:i.message}),h.dirty());else if("emoji"===i.kind)b||(b=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),b.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"emoji",code:F.invalid_string,message:i.message}),h.dirty());else if("uuid"===i.kind)W.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"uuid",code:F.invalid_string,message:i.message}),h.dirty());else if("nanoid"===i.kind)X.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"nanoid",code:F.invalid_string,message:i.message}),h.dirty());else if("cuid"===i.kind)T.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"cuid",code:F.invalid_string,message:i.message}),h.dirty());else if("cuid2"===i.kind)U.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"cuid2",code:F.invalid_string,message:i.message}),h.dirty());else if("ulid"===i.kind)V.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"ulid",code:F.invalid_string,message:i.message}),h.dirty());else if("url"===i.kind)try{new URL(a.data)}catch{J(g=this._getOrReturnCtx(a,g),{validation:"url",code:F.invalid_string,message:i.message}),h.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"regex",code:F.invalid_string,message:i.message}),h.dirty())):"trim"===i.kind?a.data=a.data.trim():"includes"===i.kind?a.data.includes(i.value,i.position)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),h.dirty()):"toLowerCase"===i.kind?a.data=a.data.toLowerCase():"toUpperCase"===i.kind?a.data=a.data.toUpperCase():"startsWith"===i.kind?a.data.startsWith(i.value)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:{startsWith:i.value},message:i.message}),h.dirty()):"endsWith"===i.kind?a.data.endsWith(i.value)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:{endsWith:i.value},message:i.message}),h.dirty()):"datetime"===i.kind?(function(a){let b=`${af}T${ah(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(i).test(a.data)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:"datetime",message:i.message}),h.dirty()):"date"===i.kind?ag.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:"date",message:i.message}),h.dirty()):"time"===i.kind?RegExp(`^${ah(i)}$`).test(a.data)||(J(g=this._getOrReturnCtx(a,g),{code:F.invalid_string,validation:"time",message:i.message}),h.dirty()):"duration"===i.kind?Z.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"duration",code:F.invalid_string,message:i.message}),h.dirty()):"ip"===i.kind?(c=a.data,!(("v4"===(d=i.version)||!d)&&_.test(c)||("v6"===d||!d)&&ab.test(c))&&1&&(J(g=this._getOrReturnCtx(a,g),{validation:"ip",code:F.invalid_string,message:i.message}),h.dirty())):"jwt"===i.kind?!function(a,b){if(!Y.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,i.alg)&&(J(g=this._getOrReturnCtx(a,g),{validation:"jwt",code:F.invalid_string,message:i.message}),h.dirty()):"cidr"===i.kind?(e=a.data,!(("v4"===(f=i.version)||!f)&&aa.test(e)||("v6"===f||!f)&&ac.test(e))&&1&&(J(g=this._getOrReturnCtx(a,g),{validation:"cidr",code:F.invalid_string,message:i.message}),h.dirty())):"base64"===i.kind?ad.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"base64",code:F.invalid_string,message:i.message}),h.dirty()):"base64url"===i.kind?ae.test(a.data)||(J(g=this._getOrReturnCtx(a,g),{validation:"base64url",code:F.invalid_string,message:i.message}),h.dirty()):j.assertNever(i);return{status:h.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:F.invalid_string,...l.errToObj(c)})}_addCheck(a){return new ai({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...l.errToObj(a)})}url(a){return this._addCheck({kind:"url",...l.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...l.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...l.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...l.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...l.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...l.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...l.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...l.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...l.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...l.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...l.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...l.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...l.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...l.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...l.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...l.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...l.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...l.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...l.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...l.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...l.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...l.errToObj(b)})}nonempty(a){return this.min(1,l.errToObj(a))}trim(){return new ai({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}ai.create=a=>new ai({checks:[],typeName:m.ZodString,coerce:a?.coerce??!1,...R(a)});class aj extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==D.number){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.number,received:b.parsedType}),L}let c=new K;for(let d of this._def.checks)"int"===d.kind?j.isInteger(a.data)||(J(b=this._getOrReturnCtx(a,b),{code:F.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(J(b=this._getOrReturnCtx(a,b),{code:F.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(J(b=this._getOrReturnCtx(a,b),{code:F.not_finite,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new aj({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new aj({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:l.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:l.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&j.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}aj.create=a=>new aj({checks:[],typeName:m.ZodNumber,coerce:a?.coerce||!1,...R(a)});class ak extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==D.bigint)return this._getInvalidInput(a);let c=new K;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(J(b=this._getOrReturnCtx(a,b),{code:F.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):j.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.bigint,received:b.parsedType}),L}gte(a,b){return this.setLimit("min",a,!0,l.toString(b))}gt(a,b){return this.setLimit("min",a,!1,l.toString(b))}lte(a,b){return this.setLimit("max",a,!0,l.toString(b))}lt(a,b){return this.setLimit("max",a,!1,l.toString(b))}setLimit(a,b,c,d){return new ak({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:l.toString(d)}]})}_addCheck(a){return new ak({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:l.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}ak.create=a=>new ak({checks:[],typeName:m.ZodBigInt,coerce:a?.coerce??!1,...R(a)});class al extends S{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==D.boolean){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.boolean,received:b.parsedType}),L}return N(a.data)}}al.create=a=>new al({typeName:m.ZodBoolean,coerce:a?.coerce||!1,...R(a)});class am extends S{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==D.date){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.date,received:b.parsedType}),L}if(Number.isNaN(a.data.getTime()))return J(this._getOrReturnCtx(a),{code:F.invalid_date}),L;let c=new K;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(J(b=this._getOrReturnCtx(a,b),{code:F.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):j.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new am({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:l.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:l.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}am.create=a=>new am({checks:[],coerce:a?.coerce||!1,typeName:m.ZodDate,...R(a)});class an extends S{_parse(a){if(this._getType(a)!==D.symbol){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.symbol,received:b.parsedType}),L}return N(a.data)}}an.create=a=>new an({typeName:m.ZodSymbol,...R(a)});class ao extends S{_parse(a){if(this._getType(a)!==D.undefined){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.undefined,received:b.parsedType}),L}return N(a.data)}}ao.create=a=>new ao({typeName:m.ZodUndefined,...R(a)});class ap extends S{_parse(a){if(this._getType(a)!==D.null){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.null,received:b.parsedType}),L}return N(a.data)}}ap.create=a=>new ap({typeName:m.ZodNull,...R(a)});class aq extends S{constructor(){super(...arguments),this._any=!0}_parse(a){return N(a.data)}}aq.create=a=>new aq({typeName:m.ZodAny,...R(a)});class ar extends S{constructor(){super(...arguments),this._unknown=!0}_parse(a){return N(a.data)}}ar.create=a=>new ar({typeName:m.ZodUnknown,...R(a)});class as extends S{_parse(a){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.never,received:b.parsedType}),L}}as.create=a=>new as({typeName:m.ZodNever,...R(a)});class at extends S{_parse(a){if(this._getType(a)!==D.undefined){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.void,received:b.parsedType}),L}return N(a.data)}}at.create=a=>new at({typeName:m.ZodVoid,...R(a)});class au extends S{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==D.array)return J(b,{code:F.invalid_type,expected:D.array,received:b.parsedType}),L;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(J(b,{code:a?F.too_big:F.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(J(b,{code:F.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(J(b,{code:F.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new P(b,a,b.path,c)))).then(a=>K.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new P(b,a,b.path,c)));return K.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new au({...this._def,minLength:{value:a,message:l.toString(b)}})}max(a,b){return new au({...this._def,maxLength:{value:a,message:l.toString(b)}})}length(a,b){return new au({...this._def,exactLength:{value:a,message:l.toString(b)}})}nonempty(a){return this.min(1,a)}}au.create=(a,b)=>new au({type:a,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...R(b)});class av extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=j.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==D.object){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.object,received:b.parsedType}),L}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof as&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new P(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof as){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(J(c,{code:F.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new P(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>K.mergeObjectSync(b,a)):K.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return l.errToObj,new av({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:l.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new av({...this._def,unknownKeys:"strip"})}passthrough(){return new av({...this._def,unknownKeys:"passthrough"})}extend(a){return new av({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new av({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:m.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new av({...this._def,catchall:a})}pick(a){let b={};for(let c of j.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new av({...this._def,shape:()=>b})}omit(a){let b={};for(let c of j.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new av({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof av){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=aM.create(a(e))}return new av({...b._def,shape:()=>c})}if(b instanceof au)return new au({...b._def,type:a(b.element)});if(b instanceof aM)return aM.create(a(b.unwrap()));if(b instanceof aN)return aN.create(a(b.unwrap()));if(b instanceof aA)return aA.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of j.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new av({...this._def,shape:()=>b})}required(a){let b={};for(let c of j.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof aM;)a=a._def.innerType;b[c]=a}return new av({...this._def,shape:()=>b})}keyof(){return aH(j.objectKeys(this.shape))}}av.create=(a,b)=>new av({shape:()=>a,unknownKeys:"strip",catchall:as.create(),typeName:m.ZodObject,...R(b)}),av.strictCreate=(a,b)=>new av({shape:()=>a,unknownKeys:"strict",catchall:as.create(),typeName:m.ZodObject,...R(b)}),av.lazycreate=(a,b)=>new av({shape:a,unknownKeys:"strip",catchall:as.create(),typeName:m.ZodObject,...R(b)});class aw extends S{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new G(a.ctx.common.issues));return J(b,{code:F.invalid_union,unionErrors:c}),L});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new G(a));return J(b,{code:F.invalid_union,unionErrors:e}),L}}get options(){return this._def.options}}aw.create=(a,b)=>new aw({options:a,typeName:m.ZodUnion,...R(b)});let ax=a=>{if(a instanceof aF)return ax(a.schema);if(a instanceof aL)return ax(a.innerType());if(a instanceof aG)return[a.value];if(a instanceof aI)return a.options;if(a instanceof aJ)return j.objectValues(a.enum);else if(a instanceof aO)return ax(a._def.innerType);else if(a instanceof ao)return[void 0];else if(a instanceof ap)return[null];else if(a instanceof aM)return[void 0,...ax(a.unwrap())];else if(a instanceof aN)return[null,...ax(a.unwrap())];else if(a instanceof aR)return ax(a.unwrap());else if(a instanceof aT)return ax(a.unwrap());else if(a instanceof aP)return ax(a._def.innerType);else return[]};class ay extends S{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==D.object)return J(b,{code:F.invalid_type,expected:D.object,received:b.parsedType}),L;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(J(b,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ax(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new ay({typeName:m.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...R(c)})}}class az extends S{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if("aborted"===a.status||"aborted"===d.status)return L;let e=function a(b,c){let d=E(b),e=E(c);if(b===c)return{valid:!0,data:b};if(d===D.object&&e===D.object){let d=j.objectKeys(c),e=j.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===D.array&&e===D.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===D.date&&e===D.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(("dirty"===a.status||"dirty"===d.status)&&b.dirty(),{status:b.value,value:e.data}):(J(c,{code:F.invalid_intersection_types}),L)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}az.create=(a,b,c)=>new az({left:a,right:b,typeName:m.ZodIntersection,...R(c)});class aA extends S{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==D.array)return J(c,{code:F.invalid_type,expected:D.array,received:c.parsedType}),L;if(c.data.length<this._def.items.length)return J(c,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&c.data.length>this._def.items.length&&(J(c,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new P(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>K.mergeArray(b,a)):K.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new aA({...this._def,rest:a})}}aA.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new aA({items:a,typeName:m.ZodTuple,rest:null,...R(b)})};class aB extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==D.object)return J(c,{code:F.invalid_type,expected:D.object,received:c.parsedType}),L;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new P(c,a,c.path,a)),value:f._parse(new P(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?K.mergeObjectAsync(b,d):K.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new aB(b instanceof S?{keyType:a,valueType:b,typeName:m.ZodRecord,...R(c)}:{keyType:ai.create(),valueType:a,typeName:m.ZodRecord,...R(b)})}}class aC extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==D.map)return J(c,{code:F.invalid_type,expected:D.map,received:c.parsedType}),L;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new P(c,a,c.path,[f,"key"])),value:e._parse(new P(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return L;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return L;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}aC.create=(a,b,c)=>new aC({valueType:b,keyType:a,typeName:m.ZodMap,...R(c)});class aD extends S{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==D.set)return J(c,{code:F.invalid_type,expected:D.set,received:c.parsedType}),L;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(J(c,{code:F.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(J(c,{code:F.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return L;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new P(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new aD({...this._def,minSize:{value:a,message:l.toString(b)}})}max(a,b){return new aD({...this._def,maxSize:{value:a,message:l.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}aD.create=(a,b)=>new aD({valueType:a,minSize:null,maxSize:null,typeName:m.ZodSet,...R(b)});class aE extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==D.function)return J(b,{code:F.invalid_type,expected:D.function,received:b.parsedType}),L;function c(a,c){return I({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,H,H].filter(a=>!!a),issueData:{code:F.invalid_arguments,argumentsError:c}})}function d(a,c){return I({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,H,H].filter(a=>!!a),issueData:{code:F.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof aK){let a=this;return N(async function(...b){let g=new G([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return N(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new G([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new G([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aE({...this._def,args:aA.create(a).rest(ar.create())})}returns(a){return new aE({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aE({args:a||aA.create([]).rest(ar.create()),returns:b||ar.create(),typeName:m.ZodFunction,...R(c)})}}class aF extends S{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}aF.create=(a,b)=>new aF({getter:a,typeName:m.ZodLazy,...R(b)});class aG extends S{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return J(b,{received:b.data,code:F.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:a.data}}get value(){return this._def.value}}function aH(a,b){return new aI({values:a,typeName:m.ZodEnum,...R(b)})}aG.create=(a,b)=>new aG({value:a,typeName:m.ZodLiteral,...R(b)});class aI extends S{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return J(b,{expected:j.joinValues(c),received:b.parsedType,code:F.invalid_type}),L}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return J(b,{received:b.data,code:F.invalid_enum_value,options:c}),L}return N(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return aI.create(a,{...this._def,...b})}exclude(a,b=this._def){return aI.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}aI.create=aH;class aJ extends S{_parse(a){let b=j.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==D.string&&c.parsedType!==D.number){let a=j.objectValues(b);return J(c,{expected:j.joinValues(a),received:c.parsedType,code:F.invalid_type}),L}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=j.objectValues(b);return J(c,{received:c.data,code:F.invalid_enum_value,options:a}),L}return N(a.data)}get enum(){return this._def.values}}aJ.create=(a,b)=>new aJ({values:a,typeName:m.ZodNativeEnum,...R(b)});class aK extends S{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==D.promise&&!1===b.common.async?(J(b,{code:F.invalid_type,expected:D.promise,received:b.parsedType}),L):N((b.parsedType===D.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}aK.create=(a,b)=>new aK({type:a,typeName:m.ZodPromise,...R(b)});class aL extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{J(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return L;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?L:"dirty"===d.status||"dirty"===b.value?M(d.value):d});{if("aborted"===b.value)return L;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?L:"dirty"===d.status||"dirty"===b.value?M(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?L:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?L:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?L:Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return L;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}j.assertNever(d)}}aL.create=(a,b,c)=>new aL({schema:a,typeName:m.ZodEffects,effect:b,...R(c)}),aL.createWithPreprocess=(a,b,c)=>new aL({schema:b,effect:{type:"preprocess",transform:a},typeName:m.ZodEffects,...R(c)});class aM extends S{_parse(a){return this._getType(a)===D.undefined?N(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aM.create=(a,b)=>new aM({innerType:a,typeName:m.ZodOptional,...R(b)});class aN extends S{_parse(a){return this._getType(a)===D.null?N(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aN.create=(a,b)=>new aN({innerType:a,typeName:m.ZodNullable,...R(b)});class aO extends S{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===D.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}aO.create=(a,b)=>new aO({innerType:a,typeName:m.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...R(b)});class aP extends S{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return O(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new G(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new G(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}aP.create=(a,b)=>new aP({innerType:a,typeName:m.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...R(b)});class aQ extends S{_parse(a){if(this._getType(a)!==D.nan){let b=this._getOrReturnCtx(a);return J(b,{code:F.invalid_type,expected:D.nan,received:b.parsedType}),L}return{status:"valid",value:a.data}}}aQ.create=a=>new aQ({typeName:m.ZodNaN,...R(a)}),Symbol("zod_brand");class aR extends S{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class aS extends S{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?L:"dirty"===a.status?(b.dirty(),M(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?L:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aS({in:a,out:b,typeName:m.ZodPipeline})}}class aT extends S{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return O(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aU(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?C(b,a.currentPath):b.join("/")}}function aV(a,b){return be(a.type._def,b)}aT.create=(a,b)=>new aT({innerType:a,typeName:m.ZodReadonly,...R(b)}),av.lazycreate,(g=m||(m={})).ZodString="ZodString",g.ZodNumber="ZodNumber",g.ZodNaN="ZodNaN",g.ZodBigInt="ZodBigInt",g.ZodBoolean="ZodBoolean",g.ZodDate="ZodDate",g.ZodSymbol="ZodSymbol",g.ZodUndefined="ZodUndefined",g.ZodNull="ZodNull",g.ZodAny="ZodAny",g.ZodUnknown="ZodUnknown",g.ZodNever="ZodNever",g.ZodVoid="ZodVoid",g.ZodArray="ZodArray",g.ZodObject="ZodObject",g.ZodUnion="ZodUnion",g.ZodDiscriminatedUnion="ZodDiscriminatedUnion",g.ZodIntersection="ZodIntersection",g.ZodTuple="ZodTuple",g.ZodRecord="ZodRecord",g.ZodMap="ZodMap",g.ZodSet="ZodSet",g.ZodFunction="ZodFunction",g.ZodLazy="ZodLazy",g.ZodLiteral="ZodLiteral",g.ZodEnum="ZodEnum",g.ZodEffects="ZodEffects",g.ZodNativeEnum="ZodNativeEnum",g.ZodOptional="ZodOptional",g.ZodNullable="ZodNullable",g.ZodDefault="ZodDefault",g.ZodCatch="ZodCatch",g.ZodPromise="ZodPromise",g.ZodBranded="ZodBranded",g.ZodPipeline="ZodPipeline",g.ZodReadonly="ZodReadonly",ai.create,aj.create,aQ.create,ak.create,al.create,am.create,an.create,ao.create,ap.create,aq.create,ar.create,as.create,at.create,au.create,av.create,av.strictCreate,aw.create,ay.create,az.create,aA.create,aB.create,aC.create,aD.create,aE.create,aF.create,aG.create,aI.create,aJ.create,aK.create,aL.create,aM.create,aN.create,aL.createWithPreprocess,aS.create;let aW=/^[cC][^\s-]{8,}$/,aX=/^[0-9a-z]+$/,aY=/^[0-9A-HJKMNP-TV-Z]{26}$/,aZ=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,a$=()=>(void 0===c&&(c=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),c),a_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,a0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,a1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,a2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a3=/^[a-zA-Z0-9_-]{21}$/,a4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function a5(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":B(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b);break;case"max":B(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"email":switch(b.emailStrategy){case"format:email":a8(c,"email",d.message,b);break;case"format:idn-email":a8(c,"idn-email",d.message,b);break;case"pattern:zod":a9(c,aZ,d.message,b)}break;case"url":a8(c,"uri",d.message,b);break;case"uuid":a8(c,"uuid",d.message,b);break;case"regex":a9(c,d.regex,d.message,b);break;case"cuid":a9(c,aW,d.message,b);break;case"cuid2":a9(c,aX,d.message,b);break;case"startsWith":a9(c,RegExp(`^${a6(d.value,b)}`),d.message,b);break;case"endsWith":a9(c,RegExp(`${a6(d.value,b)}$`),d.message,b);break;case"datetime":a8(c,"date-time",d.message,b);break;case"date":a8(c,"date",d.message,b);break;case"time":a8(c,"time",d.message,b);break;case"duration":a8(c,"duration",d.message,b);break;case"length":B(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b),B(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"includes":a9(c,RegExp(a6(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&a8(c,"ipv4",d.message,b),"v4"!==d.version&&a8(c,"ipv6",d.message,b);break;case"base64url":a9(c,a2,d.message,b);break;case"jwt":a9(c,a4,d.message,b);break;case"cidr":"v6"!==d.version&&a9(c,a_,d.message,b),"v4"!==d.version&&a9(c,a0,d.message,b);break;case"emoji":a9(c,a$(),d.message,b);break;case"ulid":a9(c,aY,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":a8(c,"binary",d.message,b);break;case"contentEncoding:base64":B(c,"contentEncoding","base64",d.message,b);break;case"pattern:zod":a9(c,a1,d.message,b)}break;case"nanoid":a9(c,a3,d.message,b)}return c}function a6(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)a7.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}let a7=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function a8(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):B(a,"format",b,c,d)}function a9(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:ba(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):B(a,"pattern",ba(b,d),c,d)}function ba(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}function bb(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===m.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:be(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??aU(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:be(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===m.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=a5(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===m.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===m.ZodBranded&&a.keyType._def.type._def.typeName===m.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=aV(a.keyType._def,b);return{...c,propertyNames:e}}return c}let bc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},bd=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>be(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0};function be(a,b,c=!1){let d=b.seen.get(a);if(b.override){let e=b.override?.(a,b,d,c);if(e!==z)return e}if(d&&!c){let a=bf(d,b);if(void 0!==a)return a}let e={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,e);let f=((a,b,c)=>{switch(b){case m.ZodString:return a5(a,c);case m.ZodNumber:let d={type:"number"};if(!a.checks)return d;for(let b of a.checks)switch(b.kind){case"int":d.type="integer",A(d,"type",b.message,c);break;case"min":"jsonSchema7"===c.target?b.inclusive?B(d,"minimum",b.value,b.message,c):B(d,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(d.exclusiveMinimum=!0),B(d,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?B(d,"maximum",b.value,b.message,c):B(d,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(d.exclusiveMaximum=!0),B(d,"maximum",b.value,b.message,c));break;case"multipleOf":B(d,"multipleOf",b.value,b.message,c)}return d;case m.ZodObject:return function(a,b){let c="openAi"===b.target,d={type:"object",properties:{}},e=[],f=a.shape();for(let a in f){let g=f[a];if(void 0===g||void 0===g._def)continue;let h=function(a){try{return a.isOptional()}catch{return!0}}(g);h&&c&&("ZodOptional"===g._def.typeName&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),h=!1);let i=be(g._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==i&&(d.properties[a]=i,h||e.push(a))}e.length&&(d.required=e);let g=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return be(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==g&&(d.additionalProperties=g),d}(a,c);case m.ZodBigInt:let e={type:"integer",format:"int64"};if(!a.checks)return e;for(let b of a.checks)switch(b.kind){case"min":"jsonSchema7"===c.target?b.inclusive?B(e,"minimum",b.value,b.message,c):B(e,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(e.exclusiveMinimum=!0),B(e,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?B(e,"maximum",b.value,b.message,c):B(e,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(e.exclusiveMaximum=!0),B(e,"maximum",b.value,b.message,c));break;case"multipleOf":B(e,"multipleOf",b.value,b.message,c)}return e;case m.ZodBoolean:return{type:"boolean"};case m.ZodDate:return function a(b,c,d){let e=d??c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b,g=c;let h={type:"integer",format:"unix-time"};if("openApi3"===g.target)return h;for(let a of f.checks)switch(a.kind){case"min":B(h,"minimum",a.value,a.message,g);break;case"max":B(h,"maximum",a.value,a.message,g)}return h}}(a,c);case m.ZodUndefined:return{not:aU(c)};case m.ZodNull:return"openApi3"===c.target?{enum:["null"],nullable:!0}:{type:"null"};case m.ZodArray:let f;return f={type:"array"},a.type?._def&&a.type?._def?.typeName!==m.ZodAny&&(f.items=be(a.type._def,{...c,currentPath:[...c.currentPath,"items"]})),a.minLength&&B(f,"minItems",a.minLength.value,a.minLength.message,c),a.maxLength&&B(f,"maxItems",a.maxLength.value,a.maxLength.message,c),a.exactLength&&(B(f,"minItems",a.exactLength.value,a.exactLength.message,c),B(f,"maxItems",a.exactLength.value,a.exactLength.message,c)),f;case m.ZodUnion:case m.ZodDiscriminatedUnion:if("openApi3"===c.target)return bd(a,c);let g=a.options instanceof Map?Array.from(a.options.values()):a.options;if(g.every(a=>a._def.typeName in bc&&(!a._def.checks||!a._def.checks.length))){let a=g.reduce((a,b)=>{let c=bc[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(g.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=g.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===g.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:g.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(g.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:g.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return bd(a,c);case m.ZodIntersection:let h,i,j;return h=[be(a.left._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),be(a.right._def,{...c,currentPath:[...c.currentPath,"allOf","1"]})].filter(a=>!!a),i="jsonSchema2019-09"===c.target?{unevaluatedProperties:!1}:void 0,j=[],h.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)j.push(...a.allOf),void 0===a.unevaluatedProperties&&(i=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else i=void 0;j.push(b)}}),j.length?{allOf:j,...i}:void 0;case m.ZodTuple:return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,b)=>be(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:be(a.rest._def,{...c,currentPath:[...c.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,b)=>be(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case m.ZodRecord:return bb(a,c);case m.ZodLiteral:let k;return"bigint"!=(k=typeof a.value)&&"number"!==k&&"boolean"!==k&&"string"!==k?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===c.target?{type:"bigint"===k?"integer":k,enum:[a.value]}:{type:"bigint"===k?"integer":k,const:a.value};case m.ZodEnum:return{type:"string",enum:Array.from(a.values)};case m.ZodNativeEnum:let l,n,o;return l=a.values,{type:1===(o=Array.from(new Set((n=Object.keys(a.values).filter(a=>"number"!=typeof l[l[a]]).map(a=>l[a])).map(a=>typeof a)))).length?"string"===o[0]?"string":"number":["string","number"],enum:n};case m.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===c.target?{type:bc[a.innerType._def.typeName],nullable:!0}:{type:[bc[a.innerType._def.typeName],"null"]};if("openApi3"===c.target){let b=be(a.innerType._def,{...c,currentPath:[...c.currentPath]});return b&&"$ref"in b?{allOf:[b],nullable:!0}:b&&{...b,nullable:!0}}let p=be(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","0"]});return p&&{anyOf:[p,{type:"null"}]};case m.ZodOptional:if(c.currentPath.toString()===c.propertyPath?.toString())return be(a.innerType._def,c);let q=be(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","1"]});return q?{anyOf:[{not:aU(c)},q]}:aU(c);case m.ZodMap:if("record"===c.mapStrategy)return bb(a,c);return{type:"array",maxItems:125,items:{type:"array",items:[be(a.keyType._def,{...c,currentPath:[...c.currentPath,"items","items","0"]})||aU(c),be(a.valueType._def,{...c,currentPath:[...c.currentPath,"items","items","1"]})||aU(c)],minItems:2,maxItems:2}};case m.ZodSet:let r;return r={type:"array",uniqueItems:!0,items:be(a.valueType._def,{...c,currentPath:[...c.currentPath,"items"]})},a.minSize&&B(r,"minItems",a.minSize.value,a.minSize.message,c),a.maxSize&&B(r,"maxItems",a.maxSize.value,a.maxSize.message,c),r;case m.ZodLazy:return()=>a.getter()._def;case m.ZodPromise:return be(a.type._def,c);case m.ZodNaN:case m.ZodNever:return"openAi"===c.target?void 0:{not:aU({...c,currentPath:[...c.currentPath,"not"]})};case m.ZodEffects:return"input"===c.effectStrategy?be(a.schema._def,c):aU(c);case m.ZodAny:case m.ZodUnknown:return aU(c);case m.ZodDefault:return{...be(a.innerType._def,c),default:a.defaultValue()};case m.ZodBranded:return aV(a,c);case m.ZodReadonly:case m.ZodCatch:return be(a.innerType._def,c);case m.ZodPipeline:if("input"===c.pipeStrategy)return be(a.in._def,c);if("output"===c.pipeStrategy)return be(a.out._def,c);let s=be(a.in._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),t=be(a.out._def,{...c,currentPath:[...c.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,t].filter(a=>void 0!==a)};case m.ZodFunction:case m.ZodVoid:case m.ZodSymbol:default:return}})(a,a.typeName,b),g="function"==typeof f?be(f(),b):f;if(g&&bg(a,b,g),b.postProcess){let c=b.postProcess(g,a,b);return e.jsonSchema=g,c}return e.jsonSchema=g,g}let bf=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:C(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),aU(b);return"seen"===b.$refStrategy?aU(b):void 0}},bg=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c);var bh={code:"0",name:"text",parse:a=>{if("string"!=typeof a)throw Error('"text" parts expect a string value.');return{type:"text",value:a}}},bi={code:"1",name:"function_call",parse:a=>{if(null==a||"object"!=typeof a||!("function_call"in a)||"object"!=typeof a.function_call||null==a.function_call||!("name"in a.function_call)||!("arguments"in a.function_call)||"string"!=typeof a.function_call.name||"string"!=typeof a.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:a}}},bj={code:"2",name:"data",parse:a=>{if(!Array.isArray(a))throw Error('"data" parts expect an array value.');return{type:"data",value:a}}},bk={code:"3",name:"error",parse:a=>{if("string"!=typeof a)throw Error('"error" parts expect a string value.');return{type:"error",value:a}}},bl={code:"4",name:"assistant_message",parse:a=>{if(null==a||"object"!=typeof a||!("id"in a)||!("role"in a)||!("content"in a)||"string"!=typeof a.id||"string"!=typeof a.role||"assistant"!==a.role||!Array.isArray(a.content)||!a.content.every(a=>null!=a&&"object"==typeof a&&"type"in a&&"text"===a.type&&"text"in a&&null!=a.text&&"object"==typeof a.text&&"value"in a.text&&"string"==typeof a.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:a}}},bm={code:"5",name:"assistant_control_data",parse:a=>{if(null==a||"object"!=typeof a||!("threadId"in a)||!("messageId"in a)||"string"!=typeof a.threadId||"string"!=typeof a.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:a.threadId,messageId:a.messageId}}}},bn={code:"6",name:"data_message",parse:a=>{if(null==a||"object"!=typeof a||!("role"in a)||!("data"in a)||"string"!=typeof a.role||"data"!==a.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:a}}},bo={code:"7",name:"tool_calls",parse:a=>{if(null==a||"object"!=typeof a||!("tool_calls"in a)||"object"!=typeof a.tool_calls||null==a.tool_calls||!Array.isArray(a.tool_calls)||a.tool_calls.some(a=>null==a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id||!("type"in a)||"string"!=typeof a.type||!("function"in a)||null==a.function||"object"!=typeof a.function||!("arguments"in a.function)||"string"!=typeof a.function.name||"string"!=typeof a.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:a}}},bp={code:"8",name:"message_annotations",parse:a=>{if(!Array.isArray(a))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:a}}},bq={code:"9",name:"tool_call",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName||!("args"in a)||"object"!=typeof a.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:a}}},br={code:"a",name:"tool_result",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("result"in a))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:a}}},bs={code:"b",name:"tool_call_streaming_start",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:a}}},bt={code:"c",name:"tool_call_delta",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("argsTextDelta"in a)||"string"!=typeof a.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:a}}},bu={code:"d",name:"finish_message",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),{type:"finish_message",value:b}}},bv={code:"e",name:"finish_step",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason,isContinued:!1};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),"isContinued"in a&&"boolean"==typeof a.isContinued&&(b.isContinued=a.isContinued),{type:"finish_step",value:b}}},bw=[bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv],bx={[bh.code]:bh,[bi.code]:bi,[bj.code]:bj,[bk.code]:bk,[bl.code]:bl,[bm.code]:bm,[bn.code]:bn,[bo.code]:bo,[bp.code]:bp,[bq.code]:bq,[br.code]:br,[bs.code]:bs,[bt.code]:bt,[bu.code]:bu,[bv.code]:bv};bh.name,bh.code,bi.name,bi.code,bj.name,bj.code,bk.name,bk.code,bl.name,bl.code,bm.name,bm.code,bn.name,bn.code,bo.name,bo.code,bp.name,bp.code,bq.name,bq.code,br.name,br.code,bs.name,bs.code,bt.name,bt.code,bu.name,bu.code,bv.name,bv.code;var by=bw.map(a=>a.code),bz=a=>{let b=a.indexOf(":");if(-1===b)throw Error("Failed to parse stream string. No separator found.");let c=a.slice(0,b);if(!by.includes(c))throw Error(`Failed to parse stream string. Invalid code ${c}.`);let d=JSON.parse(a.slice(b+1));return bx[c].parse(d)};async function*bA(a,{isAborted:b}={}){let c=new TextDecoder,d=[],e=0;for(;;){let{value:f}=await a.read();if(f&&(d.push(f),e+=f.length,10!==f[f.length-1]))continue;if(0===d.length)break;let g=function(a,b){let c=new Uint8Array(b),d=0;for(let b of a)c.set(b,d),d+=b.length;return a.length=0,c}(d,e);for(let a of(e=0,c.decode(g,{stream:!0}).split("\n").filter(a=>""!==a).map(bz)))yield a;if(null==b?void 0:b()){a.cancel();break}}}function bB(a,b){return a&&b&&b.length?{...a,annotations:[...b]}:a}async function bC({reader:a,abortControllerRef:b,update:c,onToolCall:d,onFinish:e,generateId:f=w,getCurrentDate:g=()=>new Date}){var h;let i,j,k=g(),l={},m=[],n=[],o={},p={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},q="unknown";for await(let{type:e,value:g}of bA(a,{isAborted:()=>(null==b?void 0:b.current)===null})){if("error"===e)throw Error(g);if("finish_step"===e){g.isContinued||(i={});continue}if("finish_message"===e){if(q=g.finishReason,null!=g.usage){let{completionTokens:a,promptTokens:b}=g.usage;p={completionTokens:a,promptTokens:b,totalTokens:a+b}}continue}if(null!=i&&("text"===e||"tool_call"===e||"tool_call_streaming_start"===e||"tool_call_delta"===e||"tool_result"===e)&&(l.text&&m.push(l.text),l.function_call&&m.push(l.function_call),l.tool_calls&&m.push(l.tool_calls),l=i,i=void 0),"text"===e&&(l.text?l.text={...l.text,content:(l.text.content||"")+g}:l.text={id:f(),role:"assistant",content:g,createdAt:k}),"tool_call_streaming_start"===e)null==l.text&&(l.text={id:f(),role:"assistant",content:"",createdAt:k}),null==l.text.toolInvocations&&(l.text.toolInvocations=[]),o[g.toolCallId]={text:"",toolName:g.toolName,prefixMapIndex:l.text.toolInvocations.length},l.text.toolInvocations.push({state:"partial-call",toolCallId:g.toolCallId,toolName:g.toolName,args:void 0});else if("tool_call_delta"===e){let a=o[g.toolCallId];a.text+=g.argsTextDelta;let{value:b}=function(a){if(void 0===a)return{value:void 0,state:"undefined-input"};try{return{value:v.default.parse(a),state:"successful-parse"}}catch(b){try{return{value:v.default.parse(function(a){let b=["ROOT"],c=-1,d=null;function e(a,e,f){switch(a){case'"':c=e,b.pop(),b.push(f),b.push("INSIDE_STRING");break;case"f":case"t":case"n":c=e,d=e,b.pop(),b.push(f),b.push("INSIDE_LITERAL");break;case"-":b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=e,b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"{":c=e,b.pop(),b.push(f),b.push("INSIDE_OBJECT_START");break;case"[":c=e,b.pop(),b.push(f),b.push("INSIDE_ARRAY_START")}}function f(a,d){switch(a){case",":b.pop(),b.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":c=d,b.pop()}}function g(a,d){switch(a){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=d,b.pop()}}for(let h=0;h<a.length;h++){let i=a[h];switch(b[b.length-1]){case"ROOT":e(i,h,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':b.pop(),b.push("INSIDE_OBJECT_KEY");break;case"}":c=h,b.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(b.pop(),b.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":e(i,h,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":f(i,h);break;case"INSIDE_STRING":switch(i){case'"':b.pop(),c=h;break;case"\\":b.push("INSIDE_STRING_ESCAPE");break;default:c=h}break;case"INSIDE_ARRAY_START":"]"===i?(c=h,b.pop()):(c=h,e(i,h,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=h,b.pop();break;default:c=h}break;case"INSIDE_ARRAY_AFTER_COMMA":e(i,h,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":b.pop(),c=h;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=h;break;case"e":case"E":case"-":case".":break;case",":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"}":b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"]":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h);break;default:b.pop()}break;case"INSIDE_LITERAL":{let e=a.substring(d,h+1);"false".startsWith(e)||"true".startsWith(e)||"null".startsWith(e)?c=h:(b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]?f(i,h):"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h))}}}let h=a.slice(0,c+1);for(let c=b.length-1;c>=0;c--)switch(b[c]){case"INSIDE_STRING":h+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":h+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":h+="]";break;case"INSIDE_LITERAL":{let b=a.substring(d,a.length);"true".startsWith(b)?h+="true".slice(b.length):"false".startsWith(b)?h+="false".slice(b.length):"null".startsWith(b)&&(h+="null".slice(b.length))}}return h}(a)),state:"repaired-parse"}}catch(a){}}return{value:void 0,state:"failed-parse"}}(a.text);l.text.toolInvocations[a.prefixMapIndex]={state:"partial-call",toolCallId:g.toolCallId,toolName:a.toolName,args:b},l.text.internalUpdateId=f()}else if("tool_call"===e){if(null!=o[g.toolCallId]?l.text.toolInvocations[o[g.toolCallId].prefixMapIndex]={state:"call",...g}:(null==l.text&&(l.text={id:f(),role:"assistant",content:"",createdAt:k}),null==l.text.toolInvocations&&(l.text.toolInvocations=[]),l.text.toolInvocations.push({state:"call",...g})),l.text.internalUpdateId=f(),d){let a=await d({toolCall:g});null!=a&&(l.text.toolInvocations[l.text.toolInvocations.length-1]={state:"result",...g,result:a})}}else if("tool_result"===e){let a=null==(h=l.text)?void 0:h.toolInvocations;if(null==a)throw Error("tool_result must be preceded by a tool_call");let b=a.findIndex(a=>a.toolCallId===g.toolCallId);if(-1===b)throw Error("tool_result must be preceded by a tool_call with the same toolCallId");a[b]={...a[b],state:"result",...g}}let a=null;"function_call"===e&&(l.function_call={id:f(),role:"assistant",content:"",function_call:g.function_call,name:g.function_call.name,createdAt:k},a=l.function_call);let b=null;"tool_calls"===e&&(l.tool_calls={id:f(),role:"assistant",content:"",tool_calls:g.tool_calls,createdAt:k},b=l.tool_calls),"data"===e&&n.push(...g);let r=l.text;"message_annotations"===e&&(j?j.push(...g):j=[...g],a=bB(l.function_call,j),b=bB(l.tool_calls,j),r=bB(l.text,j),null!=l.text&&(l.text.internalUpdateId=f())),(null==j?void 0:j.length)&&(l.text&&(l.text.annotations=[...j]),l.function_call&&(l.function_call.annotations=[...j]),l.tool_calls&&(l.tool_calls.annotations=[...j])),c([...m,...[a,b,r].filter(Boolean).map(a=>({...bB(a,j)}))],[...n])}return null==e||e({message:l.text,finishReason:q,usage:p}),{messages:[l.text,l.function_call,l.tool_calls].filter(Boolean),data:n}}async function bD({api:a,body:b,streamProtocol:c="data",credentials:d,headers:e,abortController:f,restoreMessagesOnFailure:g,onResponse:h,onUpdate:i,onFinish:j,onToolCall:k,generateId:l,fetch:m=fetch}){var n,o;let p=await m(a,{method:"POST",body:JSON.stringify(b),headers:{"Content-Type":"application/json",...e},signal:null==(n=null==f?void 0:f())?void 0:n.signal,credentials:d}).catch(a=>{throw g(),a});if(h)try{await h(p)}catch(a){throw a}if(!p.ok)throw g(),Error(null!=(o=await p.text())?o:"Failed to fetch the chat response.");if(!p.body)throw Error("The response body is empty.");let q=p.body.getReader();switch(c){case"text":{let a,b=(a=new TextDecoder,function(b){return b?a.decode(b,{stream:!0}):""}),c={id:l(),createdAt:new Date,role:"assistant",content:""};for(;;){let{done:a,value:d}=await q.read();if(a)break;if(c.content+=b(d),i([{...c}],[]),(null==f?void 0:f())===null){q.cancel();break}}return null==j||j(c,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"}),{messages:[c],data:[]}}case"data":return await bC({reader:q,abortControllerRef:null!=f?{current:f()}:void 0,update:i,onToolCall:k,onFinish({message:a,finishReason:b,usage:c}){j&&null!=a&&j(a,{usage:c,finishReason:b})},generateId:l});default:throw Error(`Unknown stream protocol: ${c}`)}}async function bE({getStreamedResponse:a,experimental_onFunctionCall:b,experimental_onToolCall:c,updateChatRequest:d,getCurrentMessages:e}){for(;;){let f=await a();if("messages"in f){let a=!1;for(let g of f.messages)if(void 0!==g.function_call&&"string"!=typeof g.function_call||void 0!==g.tool_calls&&"string"!=typeof g.tool_calls){if(a=!0,b){let c=g.function_call;if("object"!=typeof c){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let f=await b(e(),c);if(void 0===f){a=!1;break}d(f)}if(c){let b=g.tool_calls;if(!Array.isArray(b)||b.some(a=>"object"!=typeof a)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let f=await c(e(),b);if(void 0===f){a=!1;break}d(f)}}if(!a)break}else{let a=function(a){for(let b of a.messages){if(void 0!==b.tool_calls)for(let a of b.tool_calls)"object"==typeof a&&a.function.arguments&&"string"!=typeof a.function.arguments&&(a.function.arguments=JSON.stringify(a.function.arguments));void 0!==b.function_call&&"object"==typeof b.function_call&&b.function_call.arguments&&"string"!=typeof b.function_call.arguments&&(b.function_call.arguments=JSON.stringify(b.function_call.arguments))}};if((void 0===f.function_call||"string"==typeof f.function_call)&&(void 0===f.tool_calls||"string"==typeof f.tool_calls))break;if(b){let c=f.function_call;if("object"!=typeof c){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let g=await b(e(),c);if(void 0===g)break;a(g),d(g)}if(c){let b=f.tool_calls;if("object"!=typeof b){console.warn("experimental_onToolCall should not be defined when using functions");continue}let g=await c(e(),b);if(void 0===g)break;a(g),d(g)}}}}Symbol.for("vercel.ai.schema");var bF=a.i(57683),bG=a.i(5161);a.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],45875);var bH=Object.prototype.hasOwnProperty;let bI=new WeakMap,bJ=()=>{},bK=bJ(),bL=Object,bM=a=>a===bK,bN=(a,b)=>({...a,...b}),bO={},bP={},bQ="undefined",bR=typeof document!=bQ,bS=!1,bT=(a,b)=>{let c=bI.get(a);return[()=>!bM(b)&&a.get(b)||bO,d=>{if(!bM(b)){let e=a.get(b);b in bP||(bP[b]=e),c[5](b,bN(e,d),e||bO)}},c[6],()=>!bM(b)&&b in bP?bP[b]:!bM(b)&&a.get(b)||bO]},bU=!0,[bV,bW]=[bJ,bJ],bX={initFocus:a=>(bR&&document.addEventListener("visibilitychange",a),bV("focus",a),()=>{bR&&document.removeEventListener("visibilitychange",a),bW("focus",a)}),initReconnect:a=>{let b=()=>{bU=!0,a()},c=()=>{bU=!1};return bV("online",b),bV("offline",c),()=>{bW("online",b),bW("offline",c)}}},bY=!bF.default.useId,bZ=!0,b$=bF.useEffect,b_="undefined"!=typeof navigator&&navigator.connection;!bZ&&b_&&(["slow-2g","2g"].includes(b_.effectiveType)||b_.saveData);let b0=new WeakMap,b1=(a,b)=>a===`[object ${b}]`,b2=0,b3=a=>{let b,c,d=typeof a,e=bL.prototype.toString.call(a),f=b1(e,"Date"),g=b1(e,"RegExp"),h=b1(e,"Object");if(bL(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=b0.get(a))return b;if(b=++b2+"~",b0.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=b3(a[c])+",";b0.set(a,b)}if(h){b="#";let d=bL.keys(a).sort();for(;!bM(c=d.pop());)bM(a[c])||(b+=c+":"+b3(a[c])+",");b0.set(a,b)}}return b},b4=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?b3(a):"",b]},b5=0,b6=()=>++b5;async function b7(...a){let[b,c,d,e]=a,f=bN({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,i=f.optimisticData,j=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(k))}return k(c);async function k(c){let e,[k]=b4(c);if(!k)return;let[l,m]=bT(b,k),[n,o,p,q]=bI.get(b),r=()=>{let a=n[k];return("function"==typeof f.revalidate?f.revalidate(l().data,c):!1!==f.revalidate)&&(delete p[k],delete q[k],a&&a[0])?a[0](2).then(()=>l().data):l().data};if(a.length<3)return r();let s=d,t=!1,u=b6();o[k]=[u,0];let v=!bM(i),w=l(),x=w.data,y=w._c,z=bM(y)?x:y;if(v&&m({data:i="function"==typeof i?i(z,x):i,_c:z}),"function"==typeof s)try{s=s(z)}catch(a){e=a,t=!0}if(s&&"function"==typeof s.then){let a;if(s=await s.catch(a=>{e=a,t=!0}),u!==o[k][0]){if(t)throw e;return s}t&&v&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,m({data:z,_c:bK}))}if(g&&!t&&("function"==typeof g?m({data:g(s,z),error:bK,_c:bK}):m({data:s,error:bK,_c:bK})),o[k][1]=b6(),Promise.resolve(r()).then(()=>{m({_c:bK})}),t){if(j)throw e;return}return s}}let b8=(a,b)=>{if(!bI.has(a)){bN(bX,b);let c=Object.create(null),d=b7.bind(bK,a),e=Object.create(null),f=(a,b)=>{let c=e[a]||[];return e[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},g=(b,c,d)=>{a.set(b,c);let f=e[b];if(f)for(let a of f)a(c,d)},h=()=>{bI.has(a)||bI.set(a,[c,Object.create(null),Object.create(null),Object.create(null),d,g,f])};return h(),[a,d,h,bJ]}return[a,bI.get(a)[4]]},[b9,ca]=b8(new Map),cb=bN({onLoadingSlow:bJ,onSuccess:bJ,onError:bJ,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(bM(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:bJ,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(bH.call(b,d)&&++e&&!bH.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:b9,mutate:ca,fallback:{}},{isOnline:()=>bU,isVisible:()=>{let a=bR&&document.visibilityState;return bM(a)||"hidden"!==a}}),cc=(a,b)=>{let c=bN(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=bN(e,g))}return c},cd=(0,bF.createContext)({});var ce=a.i(45875);let cf=!1,cg=(cf?window.__SWR_DEVTOOLS_USE__:[]).concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=b4(b),[,,,e]=bI.get(b9);if(d.startsWith("$inf$"))return c(...a);let f=e[d];return bM(f)?c(...a):(delete e[d],f)});return a(b,e,d)});cf&&(window.__SWR_DEVTOOLS_REACT__=bF.default);let ch=()=>{},ci=ch(),cj=(new WeakMap,bF.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}})),ck={dedupe:!0},cl=Promise.resolve(bK);bL.defineProperty(a=>{let{value:b}=a,c=(0,bF.useContext)(cd),d="function"==typeof b,e=(0,bF.useMemo)(()=>d?b(c):b,[d,c,b]),f=(0,bF.useMemo)(()=>d?e:cc(c,e),[d,c,e]),g=e&&e.provider,h=(0,bF.useRef)(bK);g&&!h.current&&(h.current=b8(g(f.cache||b9),e));let i=h.current;return i&&(f.cache=i[0],f.mutate=i[1]),b$(()=>{if(i)return i[2]&&i[2](),i[3]},[]),(0,bF.createElement)(cd.Provider,bN(a,{value:f}))},"defaultValue",{value:cb});let cm=(d=(a,b,c)=>{let{cache:d,compare:e,suspense:f,fallbackData:g,revalidateOnMount:h,revalidateIfStale:i,refreshInterval:j,refreshWhenHidden:k,refreshWhenOffline:l,keepPreviousData:m,strictServerPrefetchWarning:n}=c,[o,p,q,r]=bI.get(d),[s,t]=b4(a),u=(0,bF.useRef)(!1),v=(0,bF.useRef)(!1),w=(0,bF.useRef)(s),x=(0,bF.useRef)(b),y=(0,bF.useRef)(c),z=()=>y.current.isVisible()&&y.current.isOnline(),[A,B,C,D]=bT(d,s),E=(0,bF.useRef)({}).current,F=bM(g)?bM(c.fallback)?bK:c.fallback[s]:g,G=(a,b)=>{for(let c in E)if("data"===c){if(!e(a[c],b[c])&&(!bM(a[c])||!e(P,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},H=(0,bF.useMemo)(()=>{let a=!!s&&!!b&&(bM(h)?!y.current.isPaused()&&!f&&!1!==i:h),c=b=>{let c=bN(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=A(),e=D(),g=c(d),j=d===e?g:c(e),k=g;return[()=>{let a=c(A());return G(a,k)?(k.data=a.data,k.isLoading=a.isLoading,k.isValidating=a.isValidating,k.error=a.error,k):(k=a,a)},()=>j]},[d,s]),I=(0,bG.useSyncExternalStore)((0,bF.useCallback)(a=>C(s,(b,c)=>{G(c,b)||a()}),[d,s]),H[0],H[1]),J=!u.current,K=o[s]&&o[s].length>0,L=I.data,M=bM(L)?F&&"function"==typeof F.then?cj(F):F:L,N=I.error,O=(0,bF.useRef)(M),P=m?bM(L)?bM(O.current)?M:O.current:L:M,Q=s&&bM(M),R=!bZ&&(0,bG.useSyncExternalStore)(()=>bJ,()=>!1,()=>!0);n&&R&&!f&&Q&&console.warn(`Missing pre-initiated data for serialized key "${s}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let S=(!K||!!bM(N))&&(J&&!bM(h)?h:!y.current.isPaused()&&(f?!bM(M)&&i:bM(M)||i)),T=!!(s&&b&&J&&S),U=bM(I.isValidating)?T:I.isValidating,V=bM(I.isLoading)?T:I.isLoading,W=(0,bF.useCallback)(async a=>{let b,d,f=x.current;if(!s||!f||v.current||y.current.isPaused())return!1;let g=!0,h=a||{},i=!q[s]||!h.dedupe,j=()=>bY?!v.current&&s===w.current&&u.current:s===w.current,k={isValidating:!1,isLoading:!1},l=()=>{B(k)},m=()=>{let a=q[s];a&&a[1]===d&&delete q[s]},n={isValidating:!0};bM(A().data)&&(n.isLoading=!0);try{if(i&&(B(n),c.loadingTimeout&&bM(A().data)&&setTimeout(()=>{g&&j()&&y.current.onLoadingSlow(s,c)},c.loadingTimeout),q[s]=[f(t),b6()]),[b,d]=q[s],b=await b,i&&setTimeout(m,c.dedupingInterval),!q[s]||q[s][1]!==d)return i&&j()&&y.current.onDiscarded(s),!1;k.error=bK;let a=p[s];if(!bM(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return l(),i&&j()&&y.current.onDiscarded(s),!1;let h=A().data;k.data=e(h,b)?h:b,i&&j()&&y.current.onSuccess(b,s,c)}catch(c){m();let a=y.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(k.error=c,i&&j())&&(a.onError(c,s,a),(!0===b||"function"==typeof b&&b(c))&&(!y.current.revalidateOnFocus||!y.current.revalidateOnReconnect||z())&&a.onErrorRetry(c,s,a,a=>{let b=o[s];b&&b[0]&&b[0](ce.ERROR_REVALIDATE_EVENT,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,l(),!0},[s,d]),X=(0,bF.useCallback)((...a)=>b7(d,w.current,...a),[]);if(b$(()=>{x.current=b,y.current=c,bM(L)||(O.current=L)}),b$(()=>{var a;let b;if(!s)return;let c=W.bind(bK,ck),d=0;y.current.revalidateOnFocus&&(d=Date.now()+y.current.focusThrottleInterval);let e=(a=(a,b={})=>{if(a==ce.FOCUS_EVENT){let a=Date.now();y.current.revalidateOnFocus&&a>d&&z()&&(d=a+y.current.focusThrottleInterval,c())}else if(a==ce.RECONNECT_EVENT)y.current.revalidateOnReconnect&&z()&&c();else if(a==ce.MUTATE_EVENT)return W();else if(a==ce.ERROR_REVALIDATE_EVENT)return W(b)},(b=o[s]||(o[s]=[])).push(a),()=>{let c=b.indexOf(a);c>=0&&(b[c]=b[b.length-1],b.pop())});if(v.current=!1,w.current=s,u.current=!0,B({_k:t}),S&&!q[s])if(bM(M)||bZ)c();else setTimeout(c,1);return()=>{v.current=!0,e()}},[s]),b$(()=>{let a;function b(){let b="function"==typeof j?j(A().data):j;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!A().error&&(k||y.current.isVisible())&&(l||y.current.isOnline())?W(ck).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[j,k,l,s]),(0,bF.useDebugValue)(P),f){if(!bY&&bZ&&Q)throw Error("Fallback data is required when using Suspense in SSR.");Q&&(x.current=b,y.current=c,v.current=!1);let a=r[s];if(cj(!bM(a)&&Q?X(a):cl),!bM(N)&&Q)throw N;let d=Q?W(ck):cl;!bM(P)&&Q&&(d.status="fulfilled",d.value=!0),cj(d)}return{mutate:X,get data(){return E.data=!0,P},get error(){return E.error=!0,N},get isValidating(){return E.isValidating=!0,U},get isLoading(){return E.isLoading=!0,V}}},function(...a){let b,c=(b=(0,bF.useContext)(cd),(0,bF.useMemo)(()=>bN(cb,b),[b])),[e,f,g]="function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],h=cc(c,g),i=d,{use:j}=h,k=(j||[]).concat(cg);for(let a=k.length;a--;)i=k[a](i);return i(e,f||h.fetcher||null,h)});var cn=a.i(80343);function co(a,b){return null!=b?(0,cn.default)(a,b):a}var cp=async(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)=>{var r;let s=g.current;c(b.messages,!1);let t=n?b.messages:b.messages.map(({role:a,content:b,experimental_attachments:c,name:d,data:e,annotations:f,toolInvocations:g,function_call:h,tool_calls:i,tool_call_id:j})=>({role:a,content:b,...void 0!==c&&{experimental_attachments:c},...void 0!==d&&{name:d},...void 0!==e&&{data:e},...void 0!==f&&{annotations:f},...void 0!==g&&{toolInvocations:g},tool_call_id:j,...void 0!==h&&{function_call:h},...void 0!==i&&{tool_calls:i}})),u=e.current;return await bD({api:a,body:null!=(r=null==o?void 0:o({messages:b.messages,requestData:b.data,requestBody:b.body}))?r:{messages:t,data:b.data,...f.current.body,...b.body,...void 0!==b.functions&&{functions:b.functions},...void 0!==b.function_call&&{function_call:b.function_call},...void 0!==b.tools&&{tools:b.tools},...void 0!==b.tool_choice&&{tool_choice:b.tool_choice}},streamProtocol:j,credentials:f.current.credentials,headers:{...f.current.headers,...b.headers},abortController:()=>h.current,restoreMessagesOnFailure(){q||c(s,!1)},onResponse:l,onUpdate(a,e){c([...b.messages,...a],!1),d([...null!=u?u:[],...null!=e?e:[]],!1)},onToolCall:m,onFinish:k,generateId:i,fetch:p})};function cq(a){return"assistant"===a.role&&a.toolInvocations&&a.toolInvocations.length>0&&a.toolInvocations.every(a=>"result"in a)}async function cr(a){if(null==a)return[];if(a instanceof FileList)return Promise.all(Array.from(a).map(async a=>{let{name:b,type:c}=a;return{name:b,contentType:c,url:await new Promise((b,c)=>{let d=new FileReader;d.onload=a=>{var c;b(null==(c=a.target)?void 0:c.result)},d.onerror=a=>c(a),d.readAsDataURL(a)})}}));if(Array.isArray(a))return a;throw Error("Invalid attachments type")}var cs=function({api:a="/api/chat",id:b,initialMessages:c,initialInput:d="",sendExtraMessageFields:e,experimental_onFunctionCall:f,experimental_onToolCall:g,onToolCall:h,experimental_prepareRequestBody:i,experimental_maxAutomaticRoundtrips:j=0,maxAutomaticRoundtrips:k=j,maxToolRoundtrips:l=k,maxSteps:m=null!=l?l+1:1,streamMode:n,streamProtocol:o,onResponse:p,onFinish:q,onError:r,credentials:s,headers:t,body:u,generateId:v=w,fetch:x,keepLastMessageOnError:y=!1,experimental_throttle:z}={}){n&&(null!=o||(o="text"===n?"text":void 0));let A=(0,bF.useId)(),B=null!=b?b:A,C="string"==typeof a?[a,B]:B,[D]=(0,bF.useState)([]),{data:E,mutate:F}=cm([C,"messages"],null,{fallbackData:null!=c?c:D}),G=(0,bF.useRef)(E||[]);(0,bF.useEffect)(()=>{G.current=E||[]},[E]);let{data:H,mutate:I}=cm([C,"streamData"],null),J=(0,bF.useRef)(H);(0,bF.useEffect)(()=>{J.current=H},[H]);let{data:K=!1,mutate:L}=cm([C,"loading"],null),{data:M,mutate:N}=cm([C,"error"],null),O=(0,bF.useRef)(null),P=(0,bF.useRef)({credentials:s,headers:t,body:u});(0,bF.useEffect)(()=>{P.current={credentials:s,headers:t,body:u}},[s,t,u]);let Q=(0,bF.useCallback)(async b=>{let c=G.current.length;try{L(!0),N(void 0),O.current=new AbortController,await bE({getStreamedResponse:()=>cp(a,b,co(F,z),co(I,z),J,P,G,O,v,o,q,p,h,e,i,x,y),experimental_onFunctionCall:f,experimental_onToolCall:g,updateChatRequest:a=>{b=a},getCurrentMessages:()=>G.current}),O.current=null}catch(a){if("AbortError"===a.name)return O.current=null,null;r&&a instanceof Error&&r(a),N(a)}finally{L(!1)}let d=G.current,j=d[d.length-1];d.length>c&&null!=j&&m>1&&cq(j)&&function(a){let b=0;for(let c=a.length-1;c>=0;c--)if("assistant"===a[c].role)b++;else break;return b}(d)<m&&await Q({messages:d})},[F,L,a,P,p,q,r,N,I,J,o,e,f,g,i,h,m,G,O,v,x,y,z]),R=(0,bF.useCallback)(async(a,{options:b,functions:c,function_call:d,tools:e,tool_choice:f,data:g,headers:h,body:i,experimental_attachments:j}={})=>{var k,l;a.id||(a.id=v());let m=await cr(j),n={headers:null!=h?h:null==b?void 0:b.headers,body:null!=i?i:null==b?void 0:b.body};return Q({messages:G.current.concat({...a,id:null!=(k=a.id)?k:v(),createdAt:null!=(l=a.createdAt)?l:new Date,experimental_attachments:m.length>0?m:void 0}),options:n,headers:n.headers,body:n.body,data:g,...void 0!==c&&{functions:c},...void 0!==d&&{function_call:d},...void 0!==e&&{tools:e},...void 0!==f&&{tool_choice:f}})},[Q,v]),S=(0,bF.useCallback)(async({options:a,functions:b,function_call:c,tools:d,tool_choice:e,data:f,headers:g,body:h}={})=>{if(0===G.current.length)return null;let i={headers:null!=g?g:null==a?void 0:a.headers,body:null!=h?h:null==a?void 0:a.body};return"assistant"===G.current[G.current.length-1].role?Q({messages:G.current.slice(0,-1),options:i,headers:i.headers,body:i.body,data:f,...void 0!==b&&{functions:b},...void 0!==c&&{function_call:c},...void 0!==d&&{tools:d},...void 0!==e&&{tool_choice:e}}):Q({messages:G.current,options:i,headers:i.headers,body:i.body,data:f,...void 0!==b&&{functions:b},...void 0!==c&&{function_call:c},...void 0!==d&&{tools:d},...void 0!==e&&{tool_choice:e}})},[Q]),T=(0,bF.useCallback)(()=>{O.current&&(O.current.abort(),O.current=null)},[]),U=(0,bF.useCallback)(a=>{"function"==typeof a&&(a=a(G.current)),F(a,!1),G.current=a},[F]),V=(0,bF.useCallback)(a=>{"function"==typeof a&&(a=a(J.current)),I(a,!1),J.current=a},[I]),[W,X]=(0,bF.useState)(d),Y=(0,bF.useCallback)(async(a,b={},c)=>{var d,e,f,g,h;if(null==(d=null==a?void 0:a.preventDefault)||d.call(a),!W&&!b.allowEmptySubmit)return;c&&(P.current={...P.current,...c});let i=await cr(b.experimental_attachments),j={headers:null!=(f=b.headers)?f:null==(e=b.options)?void 0:e.headers,body:null!=(h=b.body)?h:null==(g=b.options)?void 0:g.body};Q({messages:W||i.length||!b.allowEmptySubmit?G.current.concat({id:v(),createdAt:new Date,role:"user",content:W,experimental_attachments:i.length>0?i:void 0}):G.current,options:j,headers:j.headers,body:j.body,data:b.data}),X("")},[W,v,Q]),Z=({toolCallId:a,result:b})=>{let c=G.current.map((c,d,e)=>d===e.length-1&&"assistant"===c.role&&c.toolInvocations?{...c,toolInvocations:c.toolInvocations.map(c=>c.toolCallId===a?{...c,result:b}:c)}:c);F(c,!1),cq(c[c.length-1])&&Q({messages:c})};return{messages:E||[],setMessages:U,data:H,setData:V,error:M,append:R,reload:S,stop:T,input:W,setInput:X,handleInputChange:a=>{X(a.target.value)},handleSubmit:Y,isLoading:K,addToolResult:Z,experimental_addToolResult:Z}};a.s(["useChat",()=>cs],13457);let ct=(0,a.i(40226).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);a.s(["Receipt",()=>ct],19484)},64442,a=>{"use strict";var b=a.i(74419),c=a.i(57683),d=a.i(13457),e=a.i(60696),f=a.i(9360),g=a.i(69507),h=a.i(50285),i=a.i(61740),j=a.i(54331),k=a.i(20949),l=a.i(58295),m=a.i(8995),n=a.i(24515),o=a.i(59051),p=a.i(19484),q=a.i(44080),r=a.i(88129),s=a.i(13006),t=a.i(20725),u=a.i(9156),v=a.i(38448);o.Wallet,p.Receipt,q.FileText,r.BookOpen,s.Database;let w=["How much did I spend on restaurants this month?","Why was I charged this fee?","Can I afford a 3,000 AED monthly payment?","Explain my credit card benefits","What's my current account balance?","Show me my recurring payments"];function x({embedded:a=!1,initialMessage:o}){let{currentRole:p,currentUser:q}=(0,k.useRole)(),[r,s]=(0,c.useState)(["all"]),[x,y]=(0,c.useState)(!1),z=(0,c.useRef)(null),{messages:A,input:B,handleInputChange:C,handleSubmit:D,setMessages:E,isLoading:F,setInput:G,append:H,error:I}=(0,d.useChat)({api:"/api/chat",body:{userId:q?.id},onResponse:a=>{}}),J=(0,c.useRef)(!1);return(0,c.useEffect)(()=>{o&&!J.current&&0===A.length&&(J.current=!0,H({role:"user",content:o}))},[o,H,A.length]),(0,c.useEffect)(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[A]),(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[!a&&(0,b.jsxs)("div",{className:"pb-3 border-b flex items-center justify-between px-4 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center",children:(0,b.jsx)(m.Bot,{className:"h-5 w-5 text-primary-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"AI Banker"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your personal banking assistant"})]})]}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(u.Sparkles,{className:"h-3 w-3 mr-1"}),"retail_customer"===p||"sme_customer"===p?"Customer Mode":"Staff Mode"]})]}),(0,b.jsx)(h.ScrollArea,{className:"flex-1 px-4",children:(0,b.jsxs)("div",{className:"py-4 space-y-6",children:[A&&0!==A.length?A.map(a=>(0,b.jsxs)("div",{className:(0,j.cn)("flex gap-3","user"===a.role?"justify-end":"justify-start"),children:["assistant"===a.role&&(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(m.Bot,{className:"h-4 w-4 text-primary-foreground"})}),(0,b.jsx)("div",{className:(0,j.cn)("max-w-[85%] space-y-3","user"===a.role?"items-end":"items-start"),children:(0,b.jsx)("div",{className:(0,j.cn)("rounded-2xl px-4 py-3","user"===a.role?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.content})})}),"user"===a.role&&(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(n.User,{className:"h-4 w-4"})})]},a.id)):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-12 text-center",children:[(0,b.jsx)("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,b.jsx)(m.Bot,{className:"h-8 w-8 text-primary"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"How can I help you today?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:"I can help you check balances, explain fees, make transfers, and more. All my answers include citations so you know where the information comes from."}),I&&(0,b.jsxs)("div",{className:"bg-destructive/10 text-destructive p-3 rounded-lg text-sm mb-4 max-w-xs",children:[(0,b.jsx)("p",{className:"font-medium",children:"Error"}),(0,b.jsx)("p",{children:I.message||"Something went wrong. Please try again."})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 justify-center max-w-lg",children:w.map((a,c)=>(0,b.jsx)(g.Badge,{variant:"outline",className:"cursor-pointer hover:bg-primary/10 py-2 px-3 text-sm",onClick:()=>{C({target:{value:a}})},children:a},c))})]}),F&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(m.Bot,{className:"h-4 w-4 text-primary-foreground"})}),(0,b.jsx)("div",{className:"bg-muted rounded-2xl px-4 py-3",children:(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,b.jsx)("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,b.jsx)("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),I&&A.length>0&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-destructive/10 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(t.AlertCircle,{className:"h-4 w-4 text-destructive"})}),(0,b.jsx)("div",{className:"bg-destructive/10 text-destructive rounded-2xl px-4 py-3 text-sm",children:(0,b.jsxs)("p",{children:["Sorry, I encountered an error: ",I.message]})})]}),(0,b.jsx)("div",{ref:z})]})}),(0,b.jsxs)("div",{className:"p-4 border-t bg-background",children:[(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),D(a)},className:"flex gap-3",children:[(0,b.jsx)(f.Input,{placeholder:"Ask about your accounts...",value:B||"",onChange:C,className:"flex-1"}),(0,b.jsx)(e.Button,{type:"submit",disabled:!B?.trim()||F,children:F?(0,b.jsx)(v.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.Send,{className:"h-4 w-4"})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"AI responses include citations. Sensitive data is masked."})]}),(0,b.jsx)(i.AlertDialog,{open:x,onOpenChange:y,children:(0,b.jsxs)(i.AlertDialogContent,{children:[(0,b.jsxs)(i.AlertDialogHeader,{children:[(0,b.jsxs)(i.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(t.AlertCircle,{className:"h-5 w-5 text-orange-500"}),"Escalate to Human Support"]}),(0,b.jsx)(i.AlertDialogDescription,{children:"Your question will be forwarded to a human support agent who will respond within 2 business hours."})]}),(0,b.jsxs)(i.AlertDialogFooter,{children:[(0,b.jsx)(i.AlertDialogCancel,{children:"Cancel"}),(0,b.jsx)(i.AlertDialogAction,{children:"Escalate Now"})]})]})})]})}a.s(["AIBankerChatInterface",()=>x])}];

//# sourceMappingURL=AI%20Agents_Future_Banking_v0-bank-of-the-future_0b7281a0._.js.map