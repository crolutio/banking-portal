{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/lib/format.ts"],"sourcesContent":["// Utility functions for formatting\n\nexport function formatCurrency(amount: number, currency = \"AED\"): string {\n  return new Intl.NumberFormat(\"en-AE\", {\n    style: \"currency\",\n    currency,\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount)\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat(\"en-AE\").format(num)\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Intl.DateTimeFormat(\"en-AE\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  }).format(new Date(date))\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Intl.DateTimeFormat(\"en-AE\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(new Date(date))\n}\n\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date()\n  const then = new Date(date)\n  const diffMs = now.getTime() - then.getTime()\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24))\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n  const diffMinutes = Math.floor(diffMs / (1000 * 60))\n\n  if (diffMinutes < 60) return `${diffMinutes}m ago`\n  if (diffHours < 24) return `${diffHours}h ago`\n  if (diffDays < 7) return `${diffDays}d ago`\n  return formatDate(date)\n}\n\nexport function formatAccountNumber(accountNumber: string, masked = true): string {\n  if (masked) {\n    return \"••••\" + accountNumber.slice(-4)\n  }\n  return accountNumber\n}\n\nexport function formatCardNumber(lastFour: string): string {\n  return `•••• •••• •••• ${lastFour}`\n}\n\nexport function formatPercentage(value: number): string {\n  return `${value >= 0 ? \"+\" : \"\"}${value.toFixed(2)}%`\n}\n\nexport function maskPII(text: string, type: \"email\" | \"phone\" | \"name\" | \"account\"): string {\n  switch (type) {\n    case \"email\":\n      const [local, domain] = text.split(\"@\")\n      return `${local.slice(0, 2)}***@${domain}`\n    case \"phone\":\n      return `***-***-${text.slice(-4)}`\n    case \"name\":\n      const parts = text.split(\" \")\n      return parts.map((p, i) => (i === 0 ? p : p[0] + \"***\")).join(\" \")\n    case \"account\":\n      return `****${text.slice(-4)}`\n    default:\n      return text\n  }\n}\n\nexport function getCategoryColor(category: string): string {\n  const colors: Record<string, string> = {\n    groceries: \"bg-emerald-500/20 text-emerald-400\",\n    restaurants: \"bg-orange-500/20 text-orange-400\",\n    shopping: \"bg-pink-500/20 text-pink-400\",\n    entertainment: \"bg-purple-500/20 text-purple-400\",\n    utilities: \"bg-blue-500/20 text-blue-400\",\n    transport: \"bg-yellow-500/20 text-yellow-400\",\n    healthcare: \"bg-red-500/20 text-red-400\",\n    travel: \"bg-cyan-500/20 text-cyan-400\",\n    transfer: \"bg-indigo-500/20 text-indigo-400\",\n    salary: \"bg-green-500/20 text-green-400\",\n    investment: \"bg-teal-500/20 text-teal-400\",\n    fees: \"bg-gray-500/20 text-gray-400\",\n    other: \"bg-gray-500/20 text-gray-400\",\n  }\n  return colors[category] || colors.other\n}\n\nexport function getSeverityColor(severity: string): string {\n  const colors: Record<string, string> = {\n    low: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n    medium: \"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\",\n    high: \"bg-orange-500/20 text-orange-400 border-orange-500/30\",\n    critical: \"bg-red-500/20 text-red-400 border-red-500/30\",\n  }\n  return colors[severity] || colors.low\n}\n\nexport function getStatusColor(status: string): string {\n  const colors: Record<string, string> = {\n    active: \"bg-emerald-500/20 text-emerald-400\",\n    open: \"bg-yellow-500/20 text-yellow-400\",\n    investigating: \"bg-blue-500/20 text-blue-400\",\n    resolved: \"bg-emerald-500/20 text-emerald-400\",\n    escalated: \"bg-red-500/20 text-red-400\",\n    closed: \"bg-gray-500/20 text-gray-400\",\n    pending: \"bg-yellow-500/20 text-yellow-400\",\n    completed: \"bg-emerald-500/20 text-emerald-400\",\n    failed: \"bg-red-500/20 text-red-400\",\n    frozen: \"bg-blue-500/20 text-blue-400\",\n  }\n  return colors[status] || colors.pending\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/ui/page-header.tsx"],"sourcesContent":["import type React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface PageHeaderProps {\n  title: string\n  description?: string\n  children?: React.ReactNode\n  className?: string\n}\n\nexport function PageHeader({ title, description, children, className }: PageHeaderProps) {\n  return (\n    <div className={cn(\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\", className)}>\n      <div>\n        <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight text-foreground text-balance\">{title}</h1>\n        {description && <p className=\"text-muted-foreground mt-1 text-pretty\">{description}</p>}\n      </div>\n      {children && <div className=\"flex items-center gap-2\">{children}</div>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;;;AASO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAmB;IACrF,qBACE,kQAAC;QAAI,WAAW,IAAA,0LAAE,EAAC,2EAA2E;;0BAC5F,kQAAC;;kCACC,kQAAC;wBAAG,WAAU;kCAA8E;;;;;;oBAC3F,6BAAe,kQAAC;wBAAE,WAAU;kCAA0C;;;;;;;;;;;;YAExE,0BAAY,kQAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAG7D;KAVgB"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/ui/stat-card.tsx"],"sourcesContent":["import type React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { TrendingUp, TrendingDown, Minus } from \"lucide-react\"\n\ninterface StatCardProps {\n  title: string\n  value: string | number\n  change?: number\n  changeLabel?: string\n  description?: string\n  trend?: { value: number; direction: \"up\" | \"down\" }\n  icon?: React.ElementType\n  className?: string\n}\n\nexport function StatCard({\n  title,\n  value,\n  change,\n  changeLabel,\n  description,\n  trend,\n  icon: Icon,\n  className,\n}: StatCardProps) {\n  const effectiveChange = trend?.value ?? change\n\n  const getTrendIcon = () => {\n    if (effectiveChange === undefined) return null\n    if (effectiveChange > 0) return <TrendingUp className=\"h-3 w-3 text-emerald-500\" />\n    if (effectiveChange < 0) return <TrendingDown className=\"h-3 w-3 text-red-500\" />\n    return <Minus className=\"h-3 w-3 text-muted-foreground\" />\n  }\n\n  const getTrendColor = () => {\n    if (effectiveChange === undefined) return \"\"\n    if (effectiveChange > 0) return \"text-emerald-500\"\n    if (effectiveChange < 0) return \"text-red-500\"\n    return \"text-muted-foreground\"\n  }\n\n  return (\n    <Card className={cn(\"bg-card\", className)}>\n      <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n        <CardTitle className=\"text-sm font-medium text-muted-foreground\">{title}</CardTitle>\n        {Icon && <Icon className=\"h-4 w-4 text-muted-foreground\" />}\n      </CardHeader>\n      <CardContent>\n        <div className=\"text-2xl font-bold text-foreground\">{value}</div>\n        {description && !effectiveChange && !changeLabel && (\n          <p className=\"text-xs text-muted-foreground mt-1\">{description}</p>\n        )}\n        {(effectiveChange !== undefined || changeLabel) && (\n          <div className=\"flex items-center gap-1 mt-1\">\n            {getTrendIcon()}\n            <span className={cn(\"text-xs\", getTrendColor())}>\n              {effectiveChange !== undefined && `${effectiveChange >= 0 ? \"+\" : \"\"}${effectiveChange}%`}\n              {changeLabel && <span className=\"text-muted-foreground ml-1\">{changeLabel}</span>}\n              {description && <span className=\"text-muted-foreground ml-1\">{description}</span>}\n            </span>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;;;;;AAaO,SAAS,SAAS,EACvB,KAAK,EACL,KAAK,EACL,MAAM,EACN,WAAW,EACX,WAAW,EACX,KAAK,EACL,MAAM,IAAI,EACV,SAAS,EACK;IACd,MAAM,kBAAkB,OAAO,SAAS;IAExC,MAAM,eAAe;QACnB,IAAI,oBAAoB,WAAW,OAAO;QAC1C,IAAI,kBAAkB,GAAG,qBAAO,kQAAC,wSAAU;YAAC,WAAU;;;;;;QACtD,IAAI,kBAAkB,GAAG,qBAAO,kQAAC,8SAAY;YAAC,WAAU;;;;;;QACxD,qBAAO,kQAAC,qRAAK;YAAC,WAAU;;;;;;IAC1B;IAEA,MAAM,gBAAgB;QACpB,IAAI,oBAAoB,WAAW,OAAO;QAC1C,IAAI,kBAAkB,GAAG,OAAO;QAChC,IAAI,kBAAkB,GAAG,OAAO;QAChC,OAAO;IACT;IAEA,qBACE,kQAAC,yMAAI;QAAC,WAAW,IAAA,0LAAE,EAAC,WAAW;;0BAC7B,kQAAC,+MAAU;gBAAC,WAAU;;kCACpB,kQAAC,8MAAS;wBAAC,WAAU;kCAA6C;;;;;;oBACjE,sBAAQ,kQAAC;wBAAK,WAAU;;;;;;;;;;;;0BAE3B,kQAAC,gNAAW;;kCACV,kQAAC;wBAAI,WAAU;kCAAsC;;;;;;oBACpD,eAAe,CAAC,mBAAmB,CAAC,6BACnC,kQAAC;wBAAE,WAAU;kCAAsC;;;;;;oBAEpD,CAAC,oBAAoB,aAAa,WAAW,mBAC5C,kQAAC;wBAAI,WAAU;;4BACZ;0CACD,kQAAC;gCAAK,WAAW,IAAA,0LAAE,EAAC,WAAW;;oCAC5B,oBAAoB,aAAa,GAAG,mBAAmB,IAAI,MAAM,KAAK,gBAAgB,CAAC,CAAC;oCACxF,6BAAe,kQAAC;wCAAK,WAAU;kDAA8B;;;;;;oCAC7D,6BAAe,kQAAC;wCAAK,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5E;KAlDgB"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,+OAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,gPAAI,GAAG;IAE9B,qBACE,kQAAC;QACC,aAAU;QACV,WAAW,IAAA,0LAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\n\nlet client: ReturnType<typeof createBrowserClient> | null = null\n\nexport function createClient() {\n  if (client) return client\n\n  client = createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\n\n  return client\n}\n"],"names":[],"mappings":";;;;AAO+B;AAP/B;AAAA;;AAEA,IAAI,SAAwD;AAErD,SAAS;IACd,IAAI,QAAQ,OAAO;IAEnB,SAAS,IAAA,yQAAmB;IAE5B,OAAO;AACT"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/dashboards/customer-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo, useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRole } from \"@/lib/role-context\"\nimport { formatCurrency, formatDate, getCategoryColor } from \"@/lib/format\"\nimport { PageHeader } from \"@/components/ui/page-header\"\nimport { StatCard } from \"@/components/ui/stat-card\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Wallet,\n  ArrowUpRight,\n  ArrowDownRight,\n  Send,\n  CreditCard,\n  AlertTriangle,\n  FileQuestion,\n  Landmark,\n  Bot,\n  Calendar,\n  TrendingUp,\n  TrendingDown,\n} from \"lucide-react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport type { Account, Transaction, Card as CardType, Loan } from \"@/lib/types\"\n\nexport function CustomerDashboard() {\n  const { currentUser } = useRole()\n  const [accounts, setAccounts] = useState<Account[]>([])\n  const [transactions, setTransactions] = useState<Transaction[]>([])\n  const [cards, setCards] = useState<CardType[]>([])\n  const [loans, setLoans] = useState<Loan[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!currentUser?.id) return\n\n      setIsLoading(true)\n      const supabase = createClient()\n\n      // Fetch Accounts\n      const { data: accountsData, error: accountsError } = await supabase\n        .from(\"accounts\")\n        .select(\"*\")\n        .eq(\"user_id\", currentUser.id)\n\n      if (accountsError) console.error(\"Error fetching accounts:\", accountsError)\n      \n      const mappedAccounts: Account[] = (accountsData || []).map((a: any) => ({\n        id: a.id,\n        userId: a.user_id,\n        name: a.name,\n        type: a.type,\n        currency: a.currency,\n        balance: Number(a.balance),\n        availableBalance: Number(a.available_balance),\n        accountNumber: a.account_number,\n        iban: a.iban,\n        status: a.status\n      }))\n      \n      setAccounts(mappedAccounts)\n\n      // Fetch Transactions (for all accounts)\n      if (mappedAccounts.length > 0) {\n        const accountIds = mappedAccounts.map(a => a.id)\n        const { data: txData, error: txError } = await supabase\n          .from(\"transactions\")\n          .select(\"*\")\n          .in(\"account_id\", accountIds)\n          .order(\"date\", { ascending: false })\n          .limit(5)\n\n        if (txError) console.error(\"Error fetching transactions:\", txError)\n\n        const mappedTransactions: Transaction[] = (txData || []).map((t: any) => ({\n          id: t.id,\n          accountId: t.account_id,\n          date: t.date,\n          description: t.description,\n          merchant: t.merchant,\n          category: t.category,\n          amount: Number(t.amount),\n          balance: Number(t.balance_after),\n          type: t.type,\n          status: t.status,\n          reference: t.reference\n        }))\n        \n        setTransactions(mappedTransactions)\n      } else {\n        setTransactions([])\n      }\n\n      // Fetch Cards\n      const { data: cardsData, error: cardsError } = await supabase\n        .from(\"cards\")\n        .select(\"*\")\n        .eq(\"user_id\", currentUser.id)\n\n      if (cardsError) console.error(\"Error fetching cards:\", cardsError)\n\n      const mappedCards: CardType[] = (cardsData || []).map((c: any) => ({\n        id: c.id,\n        userId: c.user_id,\n        accountId: c.account_id,\n        type: c.type,\n        brand: c.brand,\n        lastFour: c.last_four,\n        expiryDate: c.expiry_date,\n        status: c.status,\n        limit: c.credit_limit ? Number(c.credit_limit) : undefined,\n        spent: c.spent_amount ? Number(c.spent_amount) : undefined,\n        cardholderName: c.cardholder_name\n      }))\n\n      setCards(mappedCards)\n\n      // Fetch Loans\n      const { data: loansData, error: loansError } = await supabase\n        .from(\"loans\")\n        .select(\"*\")\n        .eq(\"user_id\", currentUser.id)\n\n      if (loansError) console.error(\"Error fetching loans:\", loansError)\n\n      const mappedLoans: Loan[] = (loansData || []).map((l: any) => ({\n        id: l.id,\n        userId: l.user_id,\n        type: l.type,\n        amount: Number(l.principal_amount),\n        remainingBalance: Number(l.remaining_balance),\n        interestRate: Number(l.interest_rate),\n        term: l.term_months,\n        monthlyPayment: Number(l.monthly_payment),\n        nextPaymentDate: l.next_payment_date,\n        status: l.status\n      }))\n\n      setLoans(mappedLoans)\n      setIsLoading(false)\n    }\n\n    fetchData()\n  }, [currentUser])\n\n  const totalBalance = useMemo(() => accounts.reduce((sum, acc) => {\n    const rate = acc.currency === \"USD\" ? 3.67 : 1\n    return sum + acc.balance * rate\n  }, 0), [accounts])\n\n  const thisMonthSpending = useMemo(() => transactions\n    .filter((t) => t.type === \"debit\" && new Date(t.date).getMonth() === new Date().getMonth())\n    .reduce((sum, t) => sum + t.amount, 0), [transactions])\n\n  const upcomingPayments = useMemo(() => loans.reduce((sum, l) => sum + l.monthlyPayment, 0), [loans])\n\n  const quickActions = [\n    { label: \"Send Money\", icon: Send, href: \"/payments\" },\n    { label: \"Freeze Card\", icon: CreditCard, href: \"/cards\" },\n    { label: \"Dispute Transaction\", icon: FileQuestion, href: \"/support\" },\n    { label: \"Apply for Loan\", icon: Landmark, href: \"/loans\" },\n  ]\n\n  const aiChips = [\n    \"How much did I spend on restaurants this month?\",\n    \"Why was I charged this fee?\",\n    \"Can I afford a 3,000 AED monthly payment?\",\n    \"Explain my credit card benefits\",\n  ]\n\n  if (isLoading) {\n    return <div className=\"flex items-center justify-center min-h-[50vh]\">Loading dashboard...</div>\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader\n        title={`Welcome back, ${currentUser.name.split(\" \")[0]}`}\n        description=\"Here's an overview of your finances\"\n      />\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <StatCard\n          title=\"Total Balance\"\n          value={formatCurrency(totalBalance)}\n          change={3.2}\n          changeLabel=\"vs last month\"\n          icon={Wallet}\n        />\n        <StatCard\n          title=\"This Month Spending\"\n          value={formatCurrency(thisMonthSpending)}\n          change={-8.5}\n          changeLabel=\"vs last month\"\n          icon={ArrowDownRight}\n        />\n        <StatCard title=\"Upcoming Bills\" value={formatCurrency(upcomingPayments)} icon={Calendar} />\n        <StatCard title=\"Active Cards\" value={cards.filter((c) => c.status === \"active\").length} icon={CreditCard} />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Recent Transactions */}\n        <Card className=\"lg:col-span-2\">\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <div>\n              <CardTitle className=\"text-lg\">Recent Transactions</CardTitle>\n              <CardDescription>Your latest activity</CardDescription>\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" asChild>\n              <Link href=\"/accounts\">View All</Link>\n            </Button>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {transactions.length > 0 ? (\n                transactions.map((txn) => (\n                  <div\n                    key={txn.id}\n                    className=\"flex items-center justify-between py-2 border-b border-border last:border-0\"\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div\n                        className={`flex items-center justify-center w-10 h-10 rounded-full ${\n                          txn.type === \"credit\" ? \"bg-emerald-500/20\" : \"bg-muted\"\n                        }`}\n                      >\n                        {txn.type === \"credit\" ? (\n                          <ArrowDownRight className=\"h-5 w-5 text-emerald-500\" />\n                        ) : (\n                          <ArrowUpRight className=\"h-5 w-5 text-muted-foreground\" />\n                        )}\n                      </div>\n                      <div>\n                        <p className=\"text-sm font-medium\">{txn.description}</p>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-xs text-muted-foreground\">{formatDate(txn.date)}</span>\n                          <Badge variant=\"secondary\" className={`text-[10px] py-0 ${getCategoryColor(txn.category)}`}>\n                            {txn.category}\n                          </Badge>\n                        </div>\n                      </div>\n                    </div>\n                    <span\n                      className={`text-sm font-medium ${txn.type === \"credit\" ? \"text-emerald-500\" : \"text-foreground\"}`}\n                    >\n                      {txn.type === \"credit\" ? \"+\" : \"-\"}\n                      {formatCurrency(txn.amount)}\n                    </span>\n                  </div>\n                ))\n              ) : (\n                <div className=\"text-center py-4 text-muted-foreground\">No recent transactions</div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Quick Actions & Alerts */}\n        <div className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 gap-2\">\n                {quickActions.map((action) => (\n                  <Button\n                    key={action.label}\n                    variant=\"outline\"\n                    className=\"h-auto py-3 flex flex-col items-center gap-2 bg-transparent\"\n                    asChild\n                  >\n                    <Link href={action.href}>\n                      <action.icon className=\"h-5 w-5\" />\n                      <span className=\"text-xs\">{action.label}</span>\n                    </Link>\n                  </Button>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-yellow-500/30 bg-yellow-500/5\">\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n                <CardTitle className=\"text-sm text-yellow-500\">Alert</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground\">\n                Unusual spending detected in your account. Higher than average spending on entertainment this month.\n              </p>\n              <Button variant=\"link\" size=\"sm\" className=\"px-0 mt-2 text-primary\">\n                Review Details\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* AI Banker Prompt */}\n      <Card className=\"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/20\">\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Bot className=\"h-5 w-5 text-primary\" />\n            <CardTitle className=\"text-lg\">Ask AI Banker</CardTitle>\n          </div>\n          <CardDescription>Get instant answers about your finances</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-wrap gap-2\">\n            {aiChips.map((chip) => (\n              <Button\n                key={chip}\n                variant=\"secondary\"\n                size=\"sm\"\n                className=\"text-xs h-auto py-2 px-3 bg-background/50 hover:bg-background\"\n                asChild\n              >\n                <Link href={`/ai-banker?q=${encodeURIComponent(chip)}`}>{chip}</Link>\n              </Button>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Spending Insights */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">Spending Insights</CardTitle>\n          <CardDescription>AI-powered analysis of your spending patterns</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"p-4 rounded-lg bg-muted/30\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <TrendingUp className=\"h-4 w-4 text-emerald-500\" />\n                <span className=\"text-sm font-medium\">Top Category</span>\n              </div>\n              <p className=\"text-2xl font-bold\">Shopping</p>\n              <p className=\"text-xs text-muted-foreground\">32% of total spending</p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-muted/30\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <TrendingDown className=\"h-4 w-4 text-blue-500\" />\n                <span className=\"text-sm font-medium\">Savings Potential</span>\n              </div>\n              <p className=\"text-2xl font-bold\">{formatCurrency(1250)}</p>\n              <p className=\"text-xs text-muted-foreground\">Based on subscription analysis</p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-muted/30\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <Calendar className=\"h-4 w-4 text-yellow-500\" />\n                <span className=\"text-sm font-medium\">Next Bill</span>\n              </div>\n              <p className=\"text-2xl font-bold\">{formatCurrency(1521.25)}</p>\n              <p className=\"text-xs text-muted-foreground\">Loan payment on Jan 15</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1435, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/dashboards/rm-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo, useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { useRole } from \"@/lib/role-context\"\nimport { formatCurrency, formatRelativeTime } from \"@/lib/format\"\nimport { PageHeader } from \"@/components/ui/page-header\"\nimport { StatCard } from \"@/components/ui/stat-card\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Users, TrendingUp, AlertCircle, Calendar, ArrowRight, Star, Clock, Target, Loader2 } from \"lucide-react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport type { User } from \"@/lib/types\"\n\nexport function RMDashboard() {\n  const { currentUser } = useRole()\n  const [clients, setClients] = useState<any[]>([])\n  const [clientsLoading, setClientsLoading] = useState(true)\n  const [nbaList, setNbaList] = useState<any[]>([]) // Using mock NBA for now as table doesn't exist\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!currentUser?.id) return\n\n      setClientsLoading(true)\n      const supabase = createClient()\n\n      // Fetch Clients assigned to this RM\n      const { data: profiles, error: profilesError } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .eq(\"assigned_rm_id\", currentUser.id)\n\n      if (profilesError) {\n        console.error(\"Error fetching clients:\", profilesError)\n        setClientsLoading(false)\n        return\n      }\n\n      // Fetch Accounts for all these clients to calculate AUM\n      const clientIds = (profiles || []).map((p: any) => p.id)\n      const { data: accounts, error: accountsError } = await supabase\n        .from(\"accounts\")\n        .select(\"user_id, balance, currency\")\n        .in(\"user_id\", clientIds)\n\n      if (accountsError) console.error(\"Error fetching client accounts:\", accountsError)\n\n      // Map clients with their calculated balance\n      const mappedClients = (profiles || []).map((p: any) => {\n        const clientAccounts = accounts?.filter((a: any) => a.user_id === p.id) || []\n        const totalBalance = clientAccounts.reduce((sum: number, acc: any) => {\n          const rate = acc.currency === \"USD\" ? 3.67 : 1\n          return sum + Number(acc.balance) * rate\n        }, 0)\n\n        return {\n          id: p.id,\n          name: p.full_name,\n          email: p.email,\n          avatar: p.avatar_url,\n          segment: p.segment || \"Standard\",\n          totalBalance\n        }\n      })\n\n      setClients(mappedClients)\n      \n      // Mock NBAs for now (fetching from 'crm_interactions' or similar would be better if table existed)\n      const mockNBAs = mappedClients.slice(0, 4).map((client: any, i: number) => ({\n        id: `nba-${i}`,\n        clientId: client.id,\n        clientName: client.name,\n        action: i % 2 === 0 ? \"Portfolio Review\" : \"Upsell Premium Card\",\n        reason: i % 2 === 0 ? \"Quarterly check-in due\" : \"High spending detected\",\n        priority: i === 0 ? \"high\" : \"medium\"\n      }))\n      setNbaList(mockNBAs)\n\n      setClientsLoading(false)\n    }\n\n    fetchData()\n  }, [currentUser])\n\n  const portfolioValue = useMemo(() => {\n    return clients.reduce((total, client) => total + client.totalBalance, 0)\n  }, [clients])\n\n  const vipClients = useMemo(() => clients.filter((c) => c.segment === \"VIP\"), [clients])\n  const atRiskClients = useMemo(() => clients.filter((c) => c.segment === \"At Risk\"), [clients])\n  \n  const upcomingRenewals = 3 // mock\n\n  if (clientsLoading) {\n    return <div className=\"flex h-screen items-center justify-center\"><Loader2 className=\"h-8 w-8 animate-spin text-primary\" /></div>\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader title=\"RM Workspace\" description=\"Manage your client portfolio and opportunities\">\n        <Button asChild>\n          <Link href=\"/rm-workspace\">\n            View Full Workspace\n            <ArrowRight className=\"ml-2 h-4 w-4\" />\n          </Link>\n        </Button>\n      </PageHeader>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <StatCard title=\"Portfolio Clients\" value={clients.length} icon={Users} />\n        <StatCard\n          title=\"Total AUM\"\n          value={formatCurrency(portfolioValue)}\n          change={5.2}\n          changeLabel=\"MTD\"\n          icon={TrendingUp}\n        />\n        <StatCard title=\"VIP Clients\" value={vipClients.length} icon={Star} />\n        <StatCard title=\"Upcoming Renewals\" value={upcomingRenewals} icon={Calendar} />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Client Portfolio */}\n        <Card className=\"lg:col-span-2\">\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <div>\n              <CardTitle className=\"text-lg\">Client Portfolio</CardTitle>\n              <CardDescription>Your assigned clients</CardDescription>\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" asChild>\n              <Link href=\"/rm-workspace\">View All</Link>\n            </Button>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {clients.map((client) => {\n                // Mock last interaction date for now\n                const lastInteractionDate = new Date(Date.now() - Math.random() * 1000000000).toISOString()\n\n                return (\n                  <div\n                    key={client.id}\n                    className=\"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-muted/30 transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar className=\"h-10 w-10\">\n                        <AvatarImage src={client.avatar || \"/placeholder.svg\"} alt={client.name} />\n                        <AvatarFallback className=\"bg-primary/20 text-primary text-xs\">\n                          {client.name\n                            .split(\" \")\n                            .map((n: string) => n[0])\n                            .join(\"\")}\n                        </AvatarFallback>\n                      </Avatar>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"text-sm font-medium\">{client.name}</p>\n                          <Badge\n                            variant=\"secondary\"\n                            className={`text-[10px] ${\n                              client.segment === \"VIP\"\n                                ? \"bg-yellow-500/20 text-yellow-500\"\n                                : client.segment === \"At Risk\"\n                                  ? \"bg-red-500/20 text-red-500\"\n                                  : \"bg-muted\"\n                            }`}\n                          >\n                            {client.segment}\n                          </Badge>\n                        </div>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Last contact: {formatRelativeTime(lastInteractionDate)}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-sm font-medium\">{formatCurrency(client.totalBalance)}</p>\n                      <p className=\"text-xs text-muted-foreground\">Total Balance</p>\n                    </div>\n                  </div>\n                )\n              })}\n              {clients.length === 0 && (\n                <div className=\"text-center py-4 text-muted-foreground\">\n                  No clients assigned yet.\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Next Best Actions */}\n        <div className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center gap-2\">\n                <Target className=\"h-4 w-4 text-primary\" />\n                <CardTitle className=\"text-lg\">Next Best Actions</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                {nbaList.map((nba) => {\n                  return (\n                    <div key={nba.id} className=\"p-3 rounded-lg bg-muted/30 border border-border\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"text-xs text-muted-foreground\">{nba.clientName}</span>\n                        <Badge\n                          variant=\"outline\"\n                          className={`text-[10px] ${\n                            nba.priority === \"high\"\n                              ? \"border-red-500/50 text-red-500\"\n                              : nba.priority === \"medium\"\n                                ? \"border-yellow-500/50 text-yellow-500\"\n                                : \"border-muted\"\n                          }`}\n                        >\n                          {nba.priority}\n                        </Badge>\n                      </div>\n                      <p className=\"text-sm font-medium\">{nba.action}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{nba.reason}</p>\n                    </div>\n                  )\n                })}\n                {nbaList.length === 0 && (\n                    <div className=\"text-center py-2 text-sm text-muted-foreground\">No pending actions</div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-yellow-500/30 bg-yellow-500/5\">\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <AlertCircle className=\"h-4 w-4 text-yellow-500\" />\n                <CardTitle className=\"text-sm text-yellow-500\">Attention Required</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground\">\n                {atRiskClients.length > 0\n                  ? `${atRiskClients.length} client(s) flagged as at-risk. Review their accounts.`\n                  : \"No at-risk clients in your portfolio.\"}\n              </p>\n              <Button variant=\"link\" size=\"sm\" className=\"px-0 mt-2 text-primary\">\n                Review Now\n              </Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                <CardTitle className=\"text-sm\">Today&apos;s Schedule</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <div className=\"w-2 h-2 rounded-full bg-primary\" />\n                  <span>10:00 AM - Portfolio review with Michael Chen</span>\n                </div>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <div className=\"w-2 h-2 rounded-full bg-muted-foreground\" />\n                  <span>2:00 PM - Credit line discussion</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2184, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/components/dashboards/risk-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo, useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { formatRelativeTime, getSeverityColor, getStatusColor } from \"@/lib/format\"\nimport { PageHeader } from \"@/components/ui/page-header\"\nimport { StatCard } from \"@/components/ui/stat-card\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ShieldAlert, AlertTriangle, CheckCircle, Clock, ArrowRight, FileWarning, Activity, Loader2 } from \"lucide-react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { RiskAlert, AuditEvent } from \"@/lib/types\"\n\nexport function RiskDashboard() {\n  const [alerts, setAlerts] = useState<RiskAlert[]>([])\n  const [auditLogs, setAuditLogs] = useState<AuditEvent[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function fetchData() {\n      setIsLoading(true)\n      const supabase = createClient()\n\n      // Fetch Risk Alerts\n      const { data: alertsData, error: alertsError } = await supabase\n        .from(\"risk_alerts\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false })\n        .limit(20)\n\n      if (alertsError) console.error(\"Error fetching risk alerts:\", alertsError)\n\n      if (alertsData) {\n        setAlerts(alertsData.map((a: any) => ({\n          id: a.id,\n          userId: a.user_id,\n          type: a.type,\n          severity: a.severity,\n          title: a.title,\n          description: a.description,\n          status: a.status,\n          createdAt: a.created_at,\n          assignedTo: a.assigned_to_id\n        })))\n      }\n\n      // Fetch Audit Logs\n      const { data: logsData, error: logsError } = await supabase\n        .from(\"audit_logs\")\n        .select(\"*\")\n        .order(\"timestamp\", { ascending: false })\n        .limit(5)\n\n      if (logsError) console.error(\"Error fetching audit logs:\", logsError)\n\n      if (logsData) {\n        setAuditLogs(logsData.map((l: any) => ({\n          id: l.id,\n          userId: l.user_id,\n          userRole: l.user_role,\n          action: l.action,\n          actionType: l.action_type,\n          timestamp: l.timestamp,\n          details: l.details,\n          sourcesAccessed: l.sources_accessed || [],\n          redactions: l.redactions || [],\n          riskFlags: l.risk_flags || []\n        })))\n      }\n\n      setIsLoading(false)\n    }\n\n    fetchData()\n  }, [])\n\n  const openAlerts = useMemo(() => alerts.filter((a) => a.status === \"open\"), [alerts])\n  const investigatingAlerts = useMemo(() => alerts.filter((a) => a.status === \"investigating\"), [alerts])\n  const criticalAlerts = useMemo(() => alerts.filter((a) => a.severity === \"critical\"), [alerts])\n  const resolvedToday = useMemo(() => {\n    const today = new Date().toISOString().split(\"T\")[0]\n    return alerts.filter((a) => a.status === \"resolved\" && a.createdAt.startsWith(today)).length\n  }, [alerts])\n\n  if (isLoading) {\n    return <div className=\"flex h-screen items-center justify-center\"><Loader2 className=\"h-8 w-8 animate-spin text-primary\" /></div>\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader title=\"Risk & Compliance Dashboard\" description=\"Monitor alerts, cases, and policy compliance\">\n        <Button asChild>\n          <Link href=\"/risk\">\n            View All Alerts\n            <ArrowRight className=\"ml-2 h-4 w-4\" />\n          </Link>\n        </Button>\n      </PageHeader>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <StatCard title=\"Open Alerts\" value={openAlerts.length} icon={AlertTriangle} />\n        <StatCard title=\"Under Investigation\" value={investigatingAlerts.length} icon={Clock} />\n        <StatCard title=\"Critical Alerts\" value={criticalAlerts.length} icon={ShieldAlert} />\n        <StatCard title=\"Resolved Today\" value={resolvedToday} icon={CheckCircle} />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Alerts Queue */}\n        <Card className=\"lg:col-span-2\">\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <div>\n              <CardTitle className=\"text-lg\">Alerts Queue</CardTitle>\n              <CardDescription>Recent risk and compliance alerts</CardDescription>\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" asChild>\n              <Link href=\"/risk\">View All</Link>\n            </Button>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {alerts.slice(0, 6).map((alert) => (\n                <div\n                  key={alert.id}\n                  className=\"flex items-start justify-between p-3 rounded-lg border border-border hover:bg-muted/30 transition-colors\"\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <div\n                      className={`flex items-center justify-center w-8 h-8 rounded-full ${getSeverityColor(alert.severity)}`}\n                    >\n                      <FileWarning className=\"h-4 w-4\" />\n                    </div>\n                    <div>\n                      <div className=\"flex items-center gap-2\">\n                        <p className=\"text-sm font-medium\">{alert.title}</p>\n                        <Badge variant=\"outline\" className={`text-[10px] ${getSeverityColor(alert.severity)}`}>\n                          {alert.severity}\n                        </Badge>\n                      </div>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{alert.description}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{formatRelativeTime(alert.createdAt)}</p>\n                    </div>\n                  </div>\n                  <Badge variant=\"secondary\" className={`text-[10px] ${getStatusColor(alert.status)}`}>\n                    {alert.status}\n                  </Badge>\n                </div>\n              ))}\n              {alerts.length === 0 && (\n                <div className=\"text-center py-4 text-muted-foreground\">No alerts found.</div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Audit Activity */}\n        <div className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center gap-2\">\n                <Activity className=\"h-4 w-4 text-primary\" />\n                <CardTitle className=\"text-lg\">Recent Activity</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                {auditLogs.map((event) => (\n                  <div\n                    key={event.id}\n                    className=\"flex items-start gap-3 pb-3 border-b border-border last:border-0 last:pb-0\"\n                  >\n                    <div className=\"w-2 h-2 rounded-full bg-primary mt-2\" />\n                    <div>\n                      <p className=\"text-sm\">{event.action}</p>\n                      <p className=\"text-xs text-muted-foreground\">{formatRelativeTime(event.timestamp)}</p>\n                    </div>\n                  </div>\n                ))}\n                {auditLogs.length === 0 && (\n                    <div className=\"text-center py-4 text-sm text-muted-foreground\">No recent activity.</div>\n                )}\n              </div>\n              <Button variant=\"link\" size=\"sm\" className=\"px-0 mt-3\" asChild>\n                <Link href=\"/audit\">View Full Audit Log</Link>\n              </Button>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-red-500/30 bg-red-500/5\">\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <ShieldAlert className=\"h-4 w-4 text-red-500\" />\n                <CardTitle className=\"text-sm text-red-500\">Critical Alert</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {criticalAlerts[0] ? (\n                <>\n                  <p className=\"text-sm font-medium\">{criticalAlerts[0].title}</p>\n                  <p className=\"text-sm text-muted-foreground mt-1\">{criticalAlerts[0].description}</p>\n                  <Button variant=\"destructive\" size=\"sm\" className=\"mt-3\">\n                    Investigate Now\n                  </Button>\n                </>\n              ) : (\n                <p className=\"text-sm text-muted-foreground\">No critical alerts at this time.</p>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2814, "column": 0}, "map": {"version":3,"sources":["file:///Users/santimundifalgueras/AI%20Agents/Future_Banking/v0-bank-of-the-future/app/%28dashboard%29/home/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRole, isCustomer } from \"@/lib/role-context\"\nimport { CustomerDashboard } from \"@/components/dashboards/customer-dashboard\"\nimport { RMDashboard } from \"@/components/dashboards/rm-dashboard\"\nimport { RiskDashboard } from \"@/components/dashboards/risk-dashboard\"\n\nexport default function HomePage() {\n  const { currentRole } = useRole()\n\n  if (isCustomer(currentRole)) {\n    return <CustomerDashboard />\n  }\n\n  if (currentRole === \"relationship_manager\") {\n    return <RMDashboard />\n  }\n\n  if (currentRole === \"risk_compliance\" || currentRole === \"admin\") {\n    return <RiskDashboard />\n  }\n\n  return <CustomerDashboard />\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,0MAAO;IAE/B,IAAI,IAAA,6MAAU,EAAC,cAAc;QAC3B,qBAAO,kQAAC,+OAAiB;;;;;IAC3B;IAEA,IAAI,gBAAgB,wBAAwB;QAC1C,qBAAO,kQAAC,mOAAW;;;;;IACrB;IAEA,IAAI,gBAAgB,qBAAqB,gBAAgB,SAAS;QAChE,qBAAO,kQAAC,uOAAa;;;;;IACvB;IAEA,qBAAO,kQAAC,+OAAiB;;;;;AAC3B;GAhBwB;;QACE,0MAAO;;;KADT"}}]
}