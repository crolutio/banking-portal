module.exports=[47344,a=>{"use strict";var b=a.i(74419),c=a.i(20949),d=a.i(57683),e=a.i(10424),f=a.i(62150),g=a.i(4627),h=a.i(74235),i=a.i(73795),j=a.i(60696),k=a.i(69507),l=a.i(59051),m=a.i(97671),n=a.i(8989),o=a.i(58295),p=a.i(40686),q=a.i(9880),r=a.i(40226);let s=(0,r.default)("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);var t=a.i(54790),u=a.i(8995),v=a.i(46031),w=a.i(54773),x=a.i(34745),y=a.i(52271);function z(){let{currentUser:a}=(0,c.useRole)(),[r,z]=(0,d.useState)([]),[A,B]=(0,d.useState)([]),[C,D]=(0,d.useState)([]),[E,F]=(0,d.useState)([]),[G,H]=(0,d.useState)(!0);(0,d.useEffect)(()=>{!async function(){if(!a?.id)return;H(!0);let b=(0,y.createClient)(),{data:c,error:d}=await b.from("accounts").select("*").eq("user_id",a.id);d&&console.error("Error fetching accounts:",d);let e=(c||[]).map(a=>({id:a.id,userId:a.user_id,name:a.name,type:a.type,currency:a.currency,balance:Number(a.balance),availableBalance:Number(a.available_balance),accountNumber:a.account_number,iban:a.iban,status:a.status}));if(z(e),e.length>0){let a=e.map(a=>a.id),{data:c,error:d}=await b.from("transactions").select("*").in("account_id",a).order("date",{ascending:!1}).limit(5);d&&console.error("Error fetching transactions:",d),B((c||[]).map(a=>({id:a.id,accountId:a.account_id,date:a.date,description:a.description,merchant:a.merchant,category:a.category,amount:Number(a.amount),balance:Number(a.balance_after),type:a.type,status:a.status,reference:a.reference})))}else B([]);let{data:f,error:g}=await b.from("cards").select("*").eq("user_id",a.id);g&&console.error("Error fetching cards:",g),D((f||[]).map(a=>({id:a.id,userId:a.user_id,accountId:a.account_id,type:a.type,brand:a.brand,lastFour:a.last_four,expiryDate:a.expiry_date,status:a.status,limit:a.credit_limit?Number(a.credit_limit):void 0,spent:a.spent_amount?Number(a.spent_amount):void 0,cardholderName:a.cardholder_name})));let{data:h,error:i}=await b.from("loans").select("*").eq("user_id",a.id);i&&console.error("Error fetching loans:",i),F((h||[]).map(a=>({id:a.id,userId:a.user_id,type:a.type,amount:Number(a.principal_amount),remainingBalance:Number(a.remaining_balance),interestRate:Number(a.interest_rate),term:a.term_months,monthlyPayment:Number(a.monthly_payment),nextPaymentDate:a.next_payment_date,status:a.status}))),H(!1)}()},[a]);let I=(0,d.useMemo)(()=>r.reduce((a,b)=>{let c="USD"===b.currency?3.67:1;return a+b.balance*c},0),[r]),J=(0,d.useMemo)(()=>A.filter(a=>"debit"===a.type&&new Date(a.date).getMonth()===new Date().getMonth()).reduce((a,b)=>a+b.amount,0),[A]),K=(0,d.useMemo)(()=>E.reduce((a,b)=>a+b.monthlyPayment,0),[E]),L=[{label:"Send Money",icon:o.Send,href:"/payments"},{label:"Freeze Card",icon:p.CreditCard,href:"/cards"},{label:"Dispute Transaction",icon:s,href:"/support"},{label:"Apply for Loan",icon:t.Landmark,href:"/loans"}];return G?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:"Loading dashboard..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(g.PageHeader,{title:`Welcome back, ${a.name.split(" ")[0]}`,description:"Here's an overview of your finances"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(h.StatCard,{title:"Total Balance",value:(0,f.formatCurrency)(I),change:3.2,changeLabel:"vs last month",icon:l.Wallet}),(0,b.jsx)(h.StatCard,{title:"This Month Spending",value:(0,f.formatCurrency)(J),change:-8.5,changeLabel:"vs last month",icon:n.ArrowDownRight}),(0,b.jsx)(h.StatCard,{title:"Upcoming Bills",value:(0,f.formatCurrency)(K),icon:v.Calendar}),(0,b.jsx)(h.StatCard,{title:"Active Cards",value:C.filter(a=>"active"===a.status).length,icon:p.CreditCard})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Recent Transactions"}),(0,b.jsx)(i.CardDescription,{children:"Your latest activity"})]}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsx)(e.default,{href:"/accounts",children:"View All"})})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:A.length>0?A.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${"credit"===a.type?"bg-emerald-500/20":"bg-muted"}`,children:"credit"===a.type?(0,b.jsx)(n.ArrowDownRight,{className:"h-5 w-5 text-emerald-500"}):(0,b.jsx)(m.ArrowUpRight,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,f.formatDate)(a.date)}),(0,b.jsx)(k.Badge,{variant:"secondary",className:`text-[10px] py-0 ${(0,f.getCategoryColor)(a.category)}`,children:a.category})]})]})]}),(0,b.jsxs)("span",{className:`text-sm font-medium ${"credit"===a.type?"text-emerald-500":"text-foreground"}`,children:["credit"===a.type?"+":"-",(0,f.formatCurrency)(a.amount)]})]},a.id)):(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No recent transactions"})})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Quick Actions"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:L.map(a=>(0,b.jsx)(j.Button,{variant:"outline",className:"h-auto py-3 flex flex-col items-center gap-2 bg-transparent",asChild:!0,children:(0,b.jsxs)(e.default,{href:a.href,children:[(0,b.jsx)(a.icon,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"text-xs",children:a.label})]})},a.label))})})]}),(0,b.jsxs)(i.Card,{className:"border-yellow-500/30 bg-yellow-500/5",children:[(0,b.jsx)(i.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.AlertTriangle,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)(i.CardTitle,{className:"text-sm text-yellow-500",children:"Alert"})]})}),(0,b.jsxs)(i.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unusual spending detected in your account. Higher than average spending on entertainment this month."}),(0,b.jsx)(j.Button,{variant:"link",size:"sm",className:"px-0 mt-2 text-primary",children:"Review Details"})]})]})]})]}),(0,b.jsxs)(i.Card,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/20",children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Bot,{className:"h-5 w-5 text-primary"}),(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Ask AI Banker"})]}),(0,b.jsx)(i.CardDescription,{children:"Get instant answers about your finances"})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["How much did I spend on restaurants this month?","Why was I charged this fee?","Can I afford a 3,000 AED monthly payment?","Explain my credit card benefits"].map(a=>(0,b.jsx)(j.Button,{variant:"secondary",size:"sm",className:"text-xs h-auto py-2 px-3 bg-background/50 hover:bg-background",asChild:!0,children:(0,b.jsx)(e.default,{href:`/ai-banker?q=${encodeURIComponent(a)}`,children:a})},a))})})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Spending Insights"}),(0,b.jsx)(i.CardDescription,{children:"AI-powered analysis of your spending patterns"})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(w.TrendingUp,{className:"h-4 w-4 text-emerald-500"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Top Category"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"Shopping"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"32% of total spending"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(x.TrendingDown,{className:"h-4 w-4 text-blue-500"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Savings Potential"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:(0,f.formatCurrency)(1250)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on subscription analysis"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Next Bill"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:(0,f.formatCurrency)(1521.25)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Loan payment on Jan 15"})]})]})})]})]})}var A=a.i(37907),B=a.i(97675),C=a.i(20725),D=a.i(51749),E=a.i(87910),F=a.i(64862),G=a.i(11754),H=a.i(38448);function I(){let{currentUser:a}=(0,c.useRole)(),[l,m]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0),[p,q]=(0,d.useState)([]);(0,d.useEffect)(()=>{!async function(){if(!a?.id)return;o(!0);let b=(0,y.createClient)(),{data:c,error:d}=await b.from("profiles").select("*").eq("assigned_rm_id",a.id);if(d){console.error("Error fetching clients:",d),o(!1);return}let e=(c||[]).map(a=>a.id),{data:f,error:g}=await b.from("accounts").select("user_id, balance, currency").in("user_id",e);g&&console.error("Error fetching client accounts:",g);let h=(c||[]).map(a=>{let b=(f?.filter(b=>b.user_id===a.id)||[]).reduce((a,b)=>{let c="USD"===b.currency?3.67:1;return a+Number(b.balance)*c},0);return{id:a.id,name:a.full_name,email:a.email,avatar:a.avatar_url,segment:a.segment||"Standard",totalBalance:b}});m(h),q(h.slice(0,4).map((a,b)=>({id:`nba-${b}`,clientId:a.id,clientName:a.name,action:b%2==0?"Portfolio Review":"Upsell Premium Card",reason:b%2==0?"Quarterly check-in due":"High spending detected",priority:0===b?"high":"medium"}))),o(!1)}()},[a]);let r=(0,d.useMemo)(()=>l.reduce((a,b)=>a+b.totalBalance,0),[l]),s=(0,d.useMemo)(()=>l.filter(a=>"VIP"===a.segment),[l]),t=(0,d.useMemo)(()=>l.filter(a=>"At Risk"===a.segment),[l]);return n?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,b.jsx)(H.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(g.PageHeader,{title:"RM Workspace",description:"Manage your client portfolio and opportunities",children:(0,b.jsx)(j.Button,{asChild:!0,children:(0,b.jsxs)(e.default,{href:"/rm-workspace",children:["View Full Workspace",(0,b.jsx)(D.ArrowRight,{className:"ml-2 h-4 w-4"})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(h.StatCard,{title:"Portfolio Clients",value:l.length,icon:B.Users}),(0,b.jsx)(h.StatCard,{title:"Total AUM",value:(0,f.formatCurrency)(r),change:5.2,changeLabel:"MTD",icon:w.TrendingUp}),(0,b.jsx)(h.StatCard,{title:"VIP Clients",value:s.length,icon:E.Star}),(0,b.jsx)(h.StatCard,{title:"Upcoming Renewals",value:3,icon:v.Calendar})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Client Portfolio"}),(0,b.jsx)(i.CardDescription,{children:"Your assigned clients"})]}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsx)(e.default,{href:"/rm-workspace",children:"View All"})})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[l.map(a=>{let c=new Date(Date.now()-1e9*Math.random()).toISOString();return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-muted/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(A.Avatar,{className:"h-10 w-10",children:[(0,b.jsx)(A.AvatarImage,{src:a.avatar||"/placeholder.svg",alt:a.name}),(0,b.jsx)(A.AvatarFallback,{className:"bg-primary/20 text-primary text-xs",children:a.name.split(" ").map(a=>a[0]).join("")})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,b.jsx)(k.Badge,{variant:"secondary",className:`text-[10px] ${"VIP"===a.segment?"bg-yellow-500/20 text-yellow-500":"At Risk"===a.segment?"bg-red-500/20 text-red-500":"bg-muted"}`,children:a.segment})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last contact: ",(0,f.formatRelativeTime)(c)]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:(0,f.formatCurrency)(a.totalBalance)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Balance"})]})]},a.id)}),0===l.length&&(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No clients assigned yet."})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(G.Target,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Next Best Actions"})]})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[p.map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted/30 border border-border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.clientName}),(0,b.jsx)(k.Badge,{variant:"outline",className:`text-[10px] ${"high"===a.priority?"border-red-500/50 text-red-500":"medium"===a.priority?"border-yellow-500/50 text-yellow-500":"border-muted"}`,children:a.priority})]}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.action}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.reason})]},a.id)),0===p.length&&(0,b.jsx)("div",{className:"text-center py-2 text-sm text-muted-foreground",children:"No pending actions"})]})})]}),(0,b.jsxs)(i.Card,{className:"border-yellow-500/30 bg-yellow-500/5",children:[(0,b.jsx)(i.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.AlertCircle,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)(i.CardTitle,{className:"text-sm text-yellow-500",children:"Attention Required"})]})}),(0,b.jsxs)(i.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:t.length>0?`${t.length} client(s) flagged as at-risk. Review their accounts.`:"No at-risk clients in your portfolio."}),(0,b.jsx)(j.Button,{variant:"link",size:"sm",className:"px-0 mt-2 text-primary",children:"Review Now"})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)(i.CardTitle,{className:"text-sm",children:"Today's Schedule"})]})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"}),(0,b.jsx)("span",{children:"10:00 AM - Portfolio review with Michael Chen"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),(0,b.jsx)("span",{children:"2:00 PM - Credit line discussion"})]})]})})]})]})]})]})}var J=a.i(15867);let K=(0,r.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),L=(0,r.default)("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M=(0,r.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function N(){let[a,c]=(0,d.useState)([]),[l,m]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0);(0,d.useEffect)(()=>{!async function(){o(!0);let a=(0,y.createClient)(),{data:b,error:d}=await a.from("risk_alerts").select("*").order("created_at",{ascending:!1}).limit(20);d&&console.error("Error fetching risk alerts:",d),b&&c(b.map(a=>({id:a.id,userId:a.user_id,type:a.type,severity:a.severity,title:a.title,description:a.description,status:a.status,createdAt:a.created_at,assignedTo:a.assigned_to_id})));let{data:e,error:f}=await a.from("audit_logs").select("*").order("timestamp",{ascending:!1}).limit(5);f&&console.error("Error fetching audit logs:",f),e&&m(e.map(a=>({id:a.id,userId:a.user_id,userRole:a.user_role,action:a.action,actionType:a.action_type,timestamp:a.timestamp,details:a.details,sourcesAccessed:a.sources_accessed||[],redactions:a.redactions||[],riskFlags:a.risk_flags||[]}))),o(!1)}()},[]);let p=(0,d.useMemo)(()=>a.filter(a=>"open"===a.status),[a]),r=(0,d.useMemo)(()=>a.filter(a=>"investigating"===a.status),[a]),s=(0,d.useMemo)(()=>a.filter(a=>"critical"===a.severity),[a]),t=(0,d.useMemo)(()=>{let b=new Date().toISOString().split("T")[0];return a.filter(a=>"resolved"===a.status&&a.createdAt.startsWith(b)).length},[a]);return n?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,b.jsx)(H.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(g.PageHeader,{title:"Risk & Compliance Dashboard",description:"Monitor alerts, cases, and policy compliance",children:(0,b.jsx)(j.Button,{asChild:!0,children:(0,b.jsxs)(e.default,{href:"/risk",children:["View All Alerts",(0,b.jsx)(D.ArrowRight,{className:"ml-2 h-4 w-4"})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(h.StatCard,{title:"Open Alerts",value:p.length,icon:q.AlertTriangle}),(0,b.jsx)(h.StatCard,{title:"Under Investigation",value:r.length,icon:F.Clock}),(0,b.jsx)(h.StatCard,{title:"Critical Alerts",value:s.length,icon:J.ShieldAlert}),(0,b.jsx)(h.StatCard,{title:"Resolved Today",value:t,icon:K})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Alerts Queue"}),(0,b.jsx)(i.CardDescription,{children:"Recent risk and compliance alerts"})]}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsx)(e.default,{href:"/risk",children:"View All"})})]}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[a.slice(0,6).map(a=>(0,b.jsxs)("div",{className:"flex items-start justify-between p-3 rounded-lg border border-border hover:bg-muted/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${(0,f.getSeverityColor)(a.severity)}`,children:(0,b.jsx)(L,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.title}),(0,b.jsx)(k.Badge,{variant:"outline",className:`text-[10px] ${(0,f.getSeverityColor)(a.severity)}`,children:a.severity})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,f.formatRelativeTime)(a.createdAt)})]})]}),(0,b.jsx)(k.Badge,{variant:"secondary",className:`text-[10px] ${(0,f.getStatusColor)(a.status)}`,children:a.status})]},a.id)),0===a.length&&(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No alerts found."})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(M,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(i.CardTitle,{className:"text-lg",children:"Recent Activity"})]})}),(0,b.jsxs)(i.CardContent,{children:[(0,b.jsxs)("div",{className:"space-y-3",children:[l.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b border-border last:border-0 last:pb-0",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm",children:a.action}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,f.formatRelativeTime)(a.timestamp)})]})]},a.id)),0===l.length&&(0,b.jsx)("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No recent activity."})]}),(0,b.jsx)(j.Button,{variant:"link",size:"sm",className:"px-0 mt-3",asChild:!0,children:(0,b.jsx)(e.default,{href:"/audit",children:"View Full Audit Log"})})]})]}),(0,b.jsxs)(i.Card,{className:"border-red-500/30 bg-red-500/5",children:[(0,b.jsx)(i.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(J.ShieldAlert,{className:"h-4 w-4 text-red-500"}),(0,b.jsx)(i.CardTitle,{className:"text-sm text-red-500",children:"Critical Alert"})]})}),(0,b.jsx)(i.CardContent,{children:s[0]?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:s[0].title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:s[0].description}),(0,b.jsx)(j.Button,{variant:"destructive",size:"sm",className:"mt-3",children:"Investigate Now"})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No critical alerts at this time."})})]})]})]})]})}function O(){let{currentRole:a}=(0,c.useRole)();return(0,c.isCustomer)(a)?(0,b.jsx)(z,{}):"relationship_manager"===a?(0,b.jsx)(I,{}):"risk_compliance"===a||"admin"===a?(0,b.jsx)(N,{}):(0,b.jsx)(z,{})}a.s(["default",()=>O],47344)}];

//# sourceMappingURL=6d3b4_Future_Banking_v0-bank-of-the-future_app_%28dashboard%29_home_page_tsx_4729bab2._.js.map